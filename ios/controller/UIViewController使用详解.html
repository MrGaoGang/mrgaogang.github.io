<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、UIViewController 基础使用 | 高先生的博客</title>
    <meta name="description" content="旨在分享对技术的了解">
    <link rel="icon" href="/images/oview/logo.png">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?9cfd884fe46fc31072811d47a486a552";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    
    <link rel="preload" href="/assets/css/0.styles.028e881c.css" as="style"><link rel="preload" href="/assets/js/app.04a154e6.js" as="script"><link rel="preload" href="/assets/js/5.7747528e.js" as="script"><link rel="preload" href="/assets/js/3.af83b867.js" as="script"><link rel="preload" href="/assets/js/6.942ab2bf.js" as="script"><link rel="prefetch" href="/assets/js/1.21ba3fdb.js"><link rel="prefetch" href="/assets/js/10.3222db7f.js"><link rel="prefetch" href="/assets/js/100.32acbb5f.js"><link rel="prefetch" href="/assets/js/101.21e06437.js"><link rel="prefetch" href="/assets/js/102.bd2f80da.js"><link rel="prefetch" href="/assets/js/103.94d2ccd9.js"><link rel="prefetch" href="/assets/js/104.60218cff.js"><link rel="prefetch" href="/assets/js/105.9084aee4.js"><link rel="prefetch" href="/assets/js/106.bba8e85e.js"><link rel="prefetch" href="/assets/js/107.64d4892a.js"><link rel="prefetch" href="/assets/js/108.d0768a5c.js"><link rel="prefetch" href="/assets/js/109.290cc251.js"><link rel="prefetch" href="/assets/js/11.5c5eefc7.js"><link rel="prefetch" href="/assets/js/110.6db0906e.js"><link rel="prefetch" href="/assets/js/111.9b85f3f1.js"><link rel="prefetch" href="/assets/js/112.921bc0a5.js"><link rel="prefetch" href="/assets/js/113.5d374c5a.js"><link rel="prefetch" href="/assets/js/114.528029e6.js"><link rel="prefetch" href="/assets/js/115.4167c79a.js"><link rel="prefetch" href="/assets/js/116.f2bce4f1.js"><link rel="prefetch" href="/assets/js/117.201fa226.js"><link rel="prefetch" href="/assets/js/118.d2912b3d.js"><link rel="prefetch" href="/assets/js/119.ed125873.js"><link rel="prefetch" href="/assets/js/12.dfc743a8.js"><link rel="prefetch" href="/assets/js/120.e4780cfa.js"><link rel="prefetch" href="/assets/js/121.21253946.js"><link rel="prefetch" href="/assets/js/122.6b2e1dbe.js"><link rel="prefetch" href="/assets/js/123.15ffa0c6.js"><link rel="prefetch" href="/assets/js/124.2d2e837a.js"><link rel="prefetch" href="/assets/js/125.6a9c6d42.js"><link rel="prefetch" href="/assets/js/126.b4cc18d5.js"><link rel="prefetch" href="/assets/js/127.4a7e4fbb.js"><link rel="prefetch" href="/assets/js/128.8dace171.js"><link rel="prefetch" href="/assets/js/129.a7b483d9.js"><link rel="prefetch" href="/assets/js/13.40c5ba30.js"><link rel="prefetch" href="/assets/js/130.9852d450.js"><link rel="prefetch" href="/assets/js/131.c43a2b05.js"><link rel="prefetch" href="/assets/js/132.d7700b19.js"><link rel="prefetch" href="/assets/js/133.70a1abb1.js"><link rel="prefetch" href="/assets/js/134.095eb425.js"><link rel="prefetch" href="/assets/js/135.aecc97aa.js"><link rel="prefetch" href="/assets/js/136.a88c2ca2.js"><link rel="prefetch" href="/assets/js/137.d3080879.js"><link rel="prefetch" href="/assets/js/138.d9273f94.js"><link rel="prefetch" href="/assets/js/139.3d1cb35b.js"><link rel="prefetch" href="/assets/js/14.b3e5365b.js"><link rel="prefetch" href="/assets/js/140.4abf120f.js"><link rel="prefetch" href="/assets/js/141.0728e730.js"><link rel="prefetch" href="/assets/js/142.eae0649f.js"><link rel="prefetch" href="/assets/js/143.8607a2b6.js"><link rel="prefetch" href="/assets/js/144.623a9d66.js"><link rel="prefetch" href="/assets/js/145.a1996ea6.js"><link rel="prefetch" href="/assets/js/146.677b17e9.js"><link rel="prefetch" href="/assets/js/147.cd4625a0.js"><link rel="prefetch" href="/assets/js/148.641df10d.js"><link rel="prefetch" href="/assets/js/15.fba8424d.js"><link rel="prefetch" href="/assets/js/16.cac86f6d.js"><link rel="prefetch" href="/assets/js/17.aba87f6b.js"><link rel="prefetch" href="/assets/js/18.f64ee406.js"><link rel="prefetch" href="/assets/js/19.1dccc78b.js"><link rel="prefetch" href="/assets/js/2.1a078743.js"><link rel="prefetch" href="/assets/js/20.9587ca2b.js"><link rel="prefetch" href="/assets/js/21.60df5a77.js"><link rel="prefetch" href="/assets/js/22.f0bfb33c.js"><link rel="prefetch" href="/assets/js/23.bda48c6a.js"><link rel="prefetch" href="/assets/js/24.b214411b.js"><link rel="prefetch" href="/assets/js/25.1de5ed60.js"><link rel="prefetch" href="/assets/js/26.a248f623.js"><link rel="prefetch" href="/assets/js/27.02a8d8d2.js"><link rel="prefetch" href="/assets/js/28.a92f57f1.js"><link rel="prefetch" href="/assets/js/29.66bca532.js"><link rel="prefetch" href="/assets/js/30.62a127fd.js"><link rel="prefetch" href="/assets/js/31.7e1e702a.js"><link rel="prefetch" href="/assets/js/32.9aa9a022.js"><link rel="prefetch" href="/assets/js/33.bf9fd37f.js"><link rel="prefetch" href="/assets/js/34.7d154067.js"><link rel="prefetch" href="/assets/js/35.69eeaafa.js"><link rel="prefetch" href="/assets/js/36.351c053c.js"><link rel="prefetch" href="/assets/js/37.25a69311.js"><link rel="prefetch" href="/assets/js/38.3df28ca4.js"><link rel="prefetch" href="/assets/js/39.94692370.js"><link rel="prefetch" href="/assets/js/40.1e397864.js"><link rel="prefetch" href="/assets/js/41.f137d156.js"><link rel="prefetch" href="/assets/js/42.ec2c9d72.js"><link rel="prefetch" href="/assets/js/43.a900b0d6.js"><link rel="prefetch" href="/assets/js/44.701bb4e1.js"><link rel="prefetch" href="/assets/js/45.4560ffd2.js"><link rel="prefetch" href="/assets/js/46.a44fb8fa.js"><link rel="prefetch" href="/assets/js/47.c73e25d6.js"><link rel="prefetch" href="/assets/js/48.53b79ebf.js"><link rel="prefetch" href="/assets/js/49.d25d7526.js"><link rel="prefetch" href="/assets/js/50.e8ff5276.js"><link rel="prefetch" href="/assets/js/51.5e5a0ef7.js"><link rel="prefetch" href="/assets/js/52.358551f1.js"><link rel="prefetch" href="/assets/js/53.52a6ba6c.js"><link rel="prefetch" href="/assets/js/54.a2186d54.js"><link rel="prefetch" href="/assets/js/55.a1f17e6f.js"><link rel="prefetch" href="/assets/js/56.685ad399.js"><link rel="prefetch" href="/assets/js/57.dcd4364b.js"><link rel="prefetch" href="/assets/js/58.d7709c27.js"><link rel="prefetch" href="/assets/js/59.b462e283.js"><link rel="prefetch" href="/assets/js/60.c0e73a38.js"><link rel="prefetch" href="/assets/js/61.c9d50dc6.js"><link rel="prefetch" href="/assets/js/62.f57608d6.js"><link rel="prefetch" href="/assets/js/63.485a4f63.js"><link rel="prefetch" href="/assets/js/64.2f512e6c.js"><link rel="prefetch" href="/assets/js/65.316535cc.js"><link rel="prefetch" href="/assets/js/66.5c77906f.js"><link rel="prefetch" href="/assets/js/67.b26a4429.js"><link rel="prefetch" href="/assets/js/68.f4432172.js"><link rel="prefetch" href="/assets/js/69.98e92d4c.js"><link rel="prefetch" href="/assets/js/7.ec420aee.js"><link rel="prefetch" href="/assets/js/70.7960d728.js"><link rel="prefetch" href="/assets/js/71.db61a99b.js"><link rel="prefetch" href="/assets/js/72.13038c0f.js"><link rel="prefetch" href="/assets/js/73.bae417c3.js"><link rel="prefetch" href="/assets/js/74.dbfc06b6.js"><link rel="prefetch" href="/assets/js/75.0dd7469c.js"><link rel="prefetch" href="/assets/js/76.8ce634aa.js"><link rel="prefetch" href="/assets/js/77.fa300f5f.js"><link rel="prefetch" href="/assets/js/78.afe45918.js"><link rel="prefetch" href="/assets/js/79.acc8d57f.js"><link rel="prefetch" href="/assets/js/8.1da3058d.js"><link rel="prefetch" href="/assets/js/80.0b4397d3.js"><link rel="prefetch" href="/assets/js/81.18e8b5a7.js"><link rel="prefetch" href="/assets/js/82.636ccb9d.js"><link rel="prefetch" href="/assets/js/83.03672c2e.js"><link rel="prefetch" href="/assets/js/84.d76fe2e9.js"><link rel="prefetch" href="/assets/js/85.23f06a97.js"><link rel="prefetch" href="/assets/js/86.0e608657.js"><link rel="prefetch" href="/assets/js/87.e6f3df96.js"><link rel="prefetch" href="/assets/js/88.8ff4d78e.js"><link rel="prefetch" href="/assets/js/89.ca96889e.js"><link rel="prefetch" href="/assets/js/9.30f47d65.js"><link rel="prefetch" href="/assets/js/90.dded5cb3.js"><link rel="prefetch" href="/assets/js/91.0850e826.js"><link rel="prefetch" href="/assets/js/92.1674df6c.js"><link rel="prefetch" href="/assets/js/93.c8fa68c3.js"><link rel="prefetch" href="/assets/js/94.0eafe3e5.js"><link rel="prefetch" href="/assets/js/95.2b658ec2.js"><link rel="prefetch" href="/assets/js/96.5ba95740.js"><link rel="prefetch" href="/assets/js/97.244b2464.js"><link rel="prefetch" href="/assets/js/98.ceaeaf90.js"><link rel="prefetch" href="/assets/js/99.72e1b9f1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.028e881c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header.png" alt="高先生的博客" class="logo"> <span class="site-name can-hide">高先生的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://gaogangsever.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  页面构建器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/javascript/index.html" class="nav-link">前端</a></div><div class="nav-item"><a href="/vue/index.html" class="nav-link">Vue</a></div><div class="nav-item"><a href="/react/index.html" class="nav-link">React/RN</a></div><div class="nav-item"><a href="/ai/index.html" class="nav-link">AI</a></div><div class="nav-item"><a href="/android/index.html" class="nav-link">Android</a></div><div class="nav-item"><a href="/ios/index.html" class="nav-link">iOS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Mendix</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mendix/index.html" class="nav-link">1. Mendix介绍</a></li><li class="dropdown-item"><!----> <a href="/mendix/widgets/index.html" class="nav-link">2. 组件开发</a></li><li class="dropdown-item"><!----> <a href="/mendix/study.html" class="nav-link">3. Mendix学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开源</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/article/oview/index.html" class="nav-link">图表库oView</a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/luckly_recyclerview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lucky_recyclerview
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/luckly_popup_window" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lucky_popup_window
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/lucky_tools/blob/master/packages/mendix-cli/README.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue开发Mendix组件脚手架
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/cocos-webpack-web" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cocos web端开发
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/ui-designer" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ui 构建器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/KotlinGank" target="_blank" rel="noopener noreferrer" class="nav-link external">
  kotlin App
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/tensorflow_object_detection" target="_blank" rel="noopener noreferrer" class="nav-link external">
  tensorflow object detection
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/MrGaoGang/lucky_docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://gaogangsever.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  页面构建器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/javascript/index.html" class="nav-link">前端</a></div><div class="nav-item"><a href="/vue/index.html" class="nav-link">Vue</a></div><div class="nav-item"><a href="/react/index.html" class="nav-link">React/RN</a></div><div class="nav-item"><a href="/ai/index.html" class="nav-link">AI</a></div><div class="nav-item"><a href="/android/index.html" class="nav-link">Android</a></div><div class="nav-item"><a href="/ios/index.html" class="nav-link">iOS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Mendix</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mendix/index.html" class="nav-link">1. Mendix介绍</a></li><li class="dropdown-item"><!----> <a href="/mendix/widgets/index.html" class="nav-link">2. 组件开发</a></li><li class="dropdown-item"><!----> <a href="/mendix/study.html" class="nav-link">3. Mendix学习</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">开源</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/article/oview/index.html" class="nav-link">图表库oView</a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/luckly_recyclerview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lucky_recyclerview
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/luckly_popup_window" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lucky_popup_window
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/lucky_tools/blob/master/packages/mendix-cli/README.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue开发Mendix组件脚手架
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/cocos-webpack-web" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cocos web端开发
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/ui-designer" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ui 构建器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/KotlinGank" target="_blank" rel="noopener noreferrer" class="nav-link external">
  kotlin App
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/MrGaoGang/tensorflow_object_detection" target="_blank" rel="noopener noreferrer" class="nav-link external">
  tensorflow object detection
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/MrGaoGang/lucky_docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>一、UIViewController 基础使用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#一、uiviewcontroller-基础使用" class="sidebar-link">一、UIViewController 基础使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_1-不使用-storyboard-设置首页" class="sidebar-link">1. 不使用 storyboard 设置首页</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_2-使用代码的方式加载-storyboard" class="sidebar-link">2. 使用代码的方式加载 Storyboard</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_3-xib-与纯代码方式创建-uiviewcontroller" class="sidebar-link">3. XIB 与纯代码方式创建 UIViewController</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_4-使用-xib-创建-uiviewcontroller-可能遇到的问题" class="sidebar-link">4. 使用 XIB 创建 UIViewController 可能遇到的问题</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_5-loadview-方法的使用" class="sidebar-link">5. loadView 方法的使用</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_5-uiviewcontroller-中-view-的懒加载" class="sidebar-link">5. UIViewController 中 View 的懒加载</a></li></ul></li><li><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#二、controller-跳转" class="sidebar-link">二、Controller 跳转</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_1-modal-方式跳转" class="sidebar-link">1. Modal 方式跳转</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_2-通过-segue-连线的方式" class="sidebar-link">2. 通过 Segue 连线的方式</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_3-uialertcontroller-的-alert-方式跳转" class="sidebar-link">3. UIAlertController 的 Alert 方式跳转</a></li></ul></li><li><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#三、-controller-的传值" class="sidebar-link">三、 Controller 的传值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_1-控制器顺向传值-a-b" class="sidebar-link">1. 控制器顺向传值 A-&gt;B</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_2-控制器逆向传值-b-a" class="sidebar-link">2. 控制器逆向传值 B-&gt;A</a></li></ul></li><li><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#四、导航控制器-navigationcontroller" class="sidebar-link">四、导航控制器 NavigationController</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_1-导航控制器的添加" class="sidebar-link">1. 导航控制器的添加</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_2-使用导航控制器实现跳转" class="sidebar-link">2. 使用导航控制器实现跳转</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_3-导航条的设置" class="sidebar-link">3. 导航条的设置</a></li><li class="sidebar-sub-header"><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#_4-代码设置-uinavigationcontroller-包括自定义返回" class="sidebar-link">4. 代码设置 UINavigationController(包括自定义返回)</a></li></ul></li><li><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#五、自定义-uinavigationcontroller" class="sidebar-link">五、自定义 UINavigationController</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ios/controller/UIViewController%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3.html#六、其他特性" class="sidebar-link">六、其他特性</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="一、uiviewcontroller-基础使用"><a href="#一、uiviewcontroller-基础使用" aria-hidden="true" class="header-anchor">#</a> 一、UIViewController 基础使用</h2> <h3 id="_1-不使用-storyboard-设置首页"><a href="#_1-不使用-storyboard-设置首页" aria-hidden="true" class="header-anchor">#</a> 1. 不使用 storyboard 设置首页</h3> <p>通常我们创建一个工程之后，默认会创建一个 Main.storyboard 作为首页；但是如果我们不使用 storyboard 的方式又该如何做呢？</p> <ol><li><p>删除 Main.storyboard 中的箭头</p></li> <li><p>找到项目工程中的 Main Interface，置空
<img src="/assets/img/empty.f81b8d21.png" alt=""></p></li> <li><p>删除 Info,plist 中的信息</p></li></ol> <p><img src="/assets/img/delete-plist.4ba51dde.png" alt=""></p> <ol start="4"><li>在 <code>SceneDelegate.m</code>中编写代码启动页面,</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>scene<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIScene</span> <span class="token operator">*</span><span class="token punctuation">)</span>scene willConnectToSession<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UISceneSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session options<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UISceneConnectionOptions</span> <span class="token operator">*</span><span class="token punctuation">)</span>connectionOptions<span class="token punctuation">{</span>
    <span class="token comment">// Override point for customization after application launch.</span>
    <span class="token comment">//    1. 创建一个显示的UIWindow，大小和屏幕一样、</span>
    self<span class="token punctuation">.</span>window <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIWindow</span> alloc<span class="token punctuation">]</span> initWithWindowScene<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIWindowScene</span> <span class="token operator">*</span><span class="token punctuation">)</span>scene<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">//    2. 创建一个显示的控制器</span>
    <span class="token class-name">UIViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIViewController</span> alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 为了查看展示效果，设置为红色</span>
    vc<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>redColor<span class="token punctuation">;</span>

    self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>rootViewController<span class="token operator">=</span>vc<span class="token punctuation">;</span>

    <span class="token comment">//    4. 将window显示出来</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>window makeKeyAndVisible<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p>其实本质上来讲，一个 storyboard 做的工作也是和我们上面写的代码是一致的。</p> <h3 id="_2-使用代码的方式加载-storyboard"><a href="#_2-使用代码的方式加载-storyboard" aria-hidden="true" class="header-anchor">#</a> 2. 使用代码的方式加载 Storyboard</h3> <p>众所周知，首页肯定是只有一个的，也就是 Storyboard 中箭头指向的；但是很多情况下 Storyboard 中是没有箭头的，那么我们应该如何去加载 Storyboard 呢？</p> <p>在上面的例子基础上，我能首先创建一个 Me.storyboard，然后手动拖动一个 ViewController 过来；并给 storyboard 设置一个唯一标识符 abc ;</p> <p><img src="/assets/img/me.f468f4ae.png" alt=""></p> <p>然后在代码中只需要吧之前的代码进行更换即可：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>scene<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIScene</span> <span class="token operator">*</span><span class="token punctuation">)</span>scene willConnectToSession<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UISceneSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session options<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UISceneConnectionOptions</span> <span class="token operator">*</span><span class="token punctuation">)</span>connectionOptions <span class="token punctuation">{</span>
    <span class="token comment">// Override point for customization after application launch.</span>
    <span class="token comment">//    1. 创建一个显示的UIWindow，大小和屏幕一样、</span>
    self<span class="token punctuation">.</span>window <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIWindow</span> alloc<span class="token punctuation">]</span> initWithWindowScene<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIWindowScene</span> <span class="token operator">*</span><span class="token punctuation">)</span>scene<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token comment">//    2. 创建一个显示的控制器</span>
    <span class="token comment">//    UIViewController *vc = [[UIViewController alloc] init];</span>
    <span class="token comment">//    vc.view.backgroundColor = UIColor.redColor;</span>
    <span class="token comment">//    加载Storyboard，注意Storyboard的名字不需要添加后缀</span>
    <span class="token class-name">UIStoryboard</span> <span class="token operator">*</span>sb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Me&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    使用唯一标识符加载UIViewController</span>
    <span class="token class-name">UIViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span>sb instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;abc&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    可以加载箭头指向的Storyboard</span>
    <span class="token comment">//    UIViewController *vc = [sb instantiateInitialViewController];</span>
    <span class="token comment">//    3. 将控制器和window关联</span>
    self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>rootViewController<span class="token operator">=</span>vc<span class="token punctuation">;</span>

    <span class="token comment">//    4. 将window显示出来</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>window makeKeyAndVisible<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>


</code></pre></div><h3 id="_3-xib-与纯代码方式创建-uiviewcontroller"><a href="#_3-xib-与纯代码方式创建-uiviewcontroller" aria-hidden="true" class="header-anchor">#</a> 3. XIB 与纯代码方式创建 UIViewController</h3> <p><strong>创建项目</strong> <img src="/assets/img/xib-init.42178031.png" alt=""></p> <p>结合前面的两种，我们一起来看一下，如何自定义 UIViewController。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>scene<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIScene</span> <span class="token operator">*</span><span class="token punctuation">)</span>scene willConnectToSession<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UISceneSession</span> <span class="token operator">*</span><span class="token punctuation">)</span>session options<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UISceneConnectionOptions</span> <span class="token operator">*</span><span class="token punctuation">)</span>connectionOptions<span class="token punctuation">{</span>
    <span class="token comment">// Override point for customization after application launch.</span>
    <span class="token comment">//    1. 创建一个显示的UIWindow，大小和屏幕一样、</span>
    self<span class="token punctuation">.</span>window <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIWindow</span> alloc<span class="token punctuation">]</span> initWithWindowScene<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIWindowScene</span> <span class="token operator">*</span><span class="token punctuation">)</span>scene<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    2. 创建一个显示的控制器</span>
    <span class="token comment">//    UIViewController *vc = [[UIViewController alloc] init];</span>
    <span class="token comment">//    vc.view.backgroundColor = UIColor.redColor;</span>


    <span class="token comment">//    2.1 加载Storyboard，注意Storyboard的名字不需要添加后缀</span>
    <span class="token comment">//    UIStoryboard *sb = [UIStoryboard storyboardWithName:@&quot;Me&quot; bundle:nil];</span>
    <span class="token comment">//    2.1 使用唯一标识符加载UIViewController</span>
    <span class="token comment">//    UIViewController *vc = [sb instantiateViewControllerWithIdentifier:@&quot;abc&quot;];</span>
    <span class="token comment">//    可以加载箭头指向的Storyboard</span>
    <span class="token comment">//    UIViewController *vc = [sb instantiateInitialViewController];</span>

    <span class="token comment">//    2.2.1 使用自定义的UIViewController</span>
    <span class="token class-name">XIBViewController</span> <span class="token operator">*</span>vc<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">XIBViewController</span> alloc<span class="token punctuation">]</span> initWithNibName<span class="token operator">:</span>@<span class="token string">&quot;XIBViewController&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 2.2.2 或者直接使用  XIBViewController *vc= [[XIBViewController alloc] init];</span>


    <span class="token comment">//    3. 将控制器和window关联</span>
    self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>rootViewController<span class="token operator">=</span>vc<span class="token punctuation">;</span>

    <span class="token comment">//    4. 将window显示出来</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>window makeKeyAndVisible<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre></div><h3 id="_4-使用-xib-创建-uiviewcontroller-可能遇到的问题"><a href="#_4-使用-xib-创建-uiviewcontroller-可能遇到的问题" aria-hidden="true" class="header-anchor">#</a> 4. 使用 XIB 创建 UIViewController 可能遇到的问题</h3> <ol><li>如果创建文件的时候没有勾选同步创建 xib 文件，而在后续需要使用 XIB 的话(手动创建 View/手动创建了一个 XIB)，则会遇到 <strong>程序直接崩溃</strong></li></ol> <p><img src="/assets/img/crash-xib.77111c65.png" alt=""></p> <blockquote><p><strong>如果手动创建的 XIB 文件的名字，和.h/.m 文件的名字 的前缀一样，都会报错；比如如果我创建的.h/.m 文件为 OneViewController.m/.h，那么我创建的 XIB 文件，如果为 OneView 或者 OneViewController.xib 或者前缀包含在 OneViewController 中，都会报错。如果名字不相似就不会报错</strong></p></blockquote> <h4 id="解决方案一-ui-方式"><a href="#解决方案一-ui-方式" aria-hidden="true" class="header-anchor">#</a> 解决方案一: UI 方式</h4> <ol><li><p>手动设置 ClassName
<img src="/assets/img/custom-class.681c168a.png" alt=""></p></li> <li><p>将 OneView 和 OneViewController 进行关联</p></li></ol> <p>将 Files' Owner 按住 control 按键 拖动到 第三个按钮 View 上；
<img src="/assets/img/connect.e0734906.png" alt="">
可以查看是否关联成功
<img src="/assets/img/connect-2.60806975.png" alt=""></p> <h4 id="解决方案二：代码方式"><a href="#解决方案二：代码方式" aria-hidden="true" class="header-anchor">#</a> 解决方案二：代码方式</h4> <p>从 XIB 中加载 View</p> <div class="language-java extra-class"><pre class="language-java"><code>
 <span class="token class-name">TwoViewController</span> <span class="token operator">*</span>vc<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">TwoViewController</span> alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    加载Nib，返回的是一个数组，因为一个xib中可以返回多个View</span>
    <span class="token class-name">NSArray</span> <span class="token operator">*</span>array<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSBundle</span> mainBundle<span class="token punctuation">]</span> loadNibNamed<span class="token operator">:</span>@<span class="token string">&quot;Common&quot;</span> owner<span class="token operator">:</span>nil options<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
    vc<span class="token punctuation">.</span>view <span class="token operator">=</span> <span class="token punctuation">[</span>array firstObject<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="xib-加载-view-的尺寸问题"><a href="#xib-加载-view-的尺寸问题" aria-hidden="true" class="header-anchor">#</a> XIB 加载 View 的尺寸问题</h4> <p>在日常工作中 XIB 创建的视图，更多的可能只是屏幕中的某一个控件；而不是整个屏幕。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  ViewController.m</span>
<span class="token comment">//  XIB创建View的尺寸问题</span>

#<span class="token keyword">import</span> <span class="token string">&quot;ViewController.h&quot;</span>

<span class="token annotation punctuation">@interface</span> <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">ViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
    <span class="token class-name">UIView</span> <span class="token operator">*</span>view <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSBundle</span> mainBundle<span class="token punctuation">]</span> loadNibNamed<span class="token operator">:</span>@<span class="token string">&quot;Common&quot;</span> owner<span class="token operator">:</span>nil options<span class="token operator">:</span>nil<span class="token punctuation">]</span> firstObject<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 记得手动设置尺寸</span>
    view<span class="token punctuation">.</span>frame <span class="token operator">=</span><span class="token class-name">CGRectMake</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token class-name">UIScreen</span><span class="token punctuation">.</span>mainScreen<span class="token punctuation">.</span>bounds<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>view addSubview<span class="token operator">:</span>view<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>


<span class="token annotation punctuation">@end</span>

</code></pre></div><h3 id="_5-loadview-方法的使用"><a href="#_5-loadview-方法的使用" aria-hidden="true" class="header-anchor">#</a> 5. loadView 方法的使用</h3> <p>注意点：</p> <ul><li><p>如果在控制器中重写得了 loadView 方法，如果使用 storyborad 或者使用 xib 的方式都会失效</p></li> <li><p>如果 loadView 中没有设置 view，此时不能再 viewDidLoad 中调用 self.view，否则会造成程序死循环。</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code>
#<span class="token keyword">import</span> <span class="token string">&quot;ViewController.h&quot;</span>

<span class="token annotation punctuation">@interface</span> <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">ViewController</span>
<span class="token comment">// 如果在控制器中重写得了loadView方法，如果使用storyborad或者使用xib的方式都会失效</span>
<span class="token comment">// 此时需要我们手动编写 View的初始化</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>loadView<span class="token punctuation">{</span>
    <span class="token comment">//     如果loadView中没有设置view，此时不能再viewDidLoad中调用self.view，否则会造成程序死循环</span>
    self<span class="token punctuation">.</span>view <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIView</span> alloc<span class="token punctuation">]</span> initWithFrame<span class="token operator">:</span><span class="token class-name">UIScreen</span><span class="token punctuation">.</span>mainScreen<span class="token punctuation">.</span>bounds<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;loadView&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;viewDidLoad&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span>

<span class="token comment">/***
 打印的结果:
 loadView
 viewDidLoad

 表示 loadView会优先于 viewDidLoad加载，
 如果loadView中没有设置，此时不能再viewDidLoad中调用self.view，否则会造成程序死循环

 */</span>

<span class="token annotation punctuation">@end</span>

</code></pre></div><p>其整个视图控制器的创建流程如下：</p> <p><img src="/assets/img/view-process.5ce2d219.png" alt=""></p> <h3 id="_5-uiviewcontroller-中-view-的懒加载"><a href="#_5-uiviewcontroller-中-view-的懒加载" aria-hidden="true" class="header-anchor">#</a> 5. UIViewController 中 View 的懒加载</h3> <p>首先我们在 AppDelegte 中初始化 Controller，并为 View 设置背景色：</p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>__func__<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//    1. 创建一个显示的UIWindow，大小和屏幕一样、</span>
    self<span class="token punctuation">.</span>window<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIWindow</span> alloc<span class="token punctuation">]</span> initWithFrame<span class="token operator">:</span> <span class="token class-name">UIScreen</span><span class="token punctuation">.</span>mainScreen<span class="token punctuation">.</span>bounds <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    2. 创建一个显示的控制器</span>
    <span class="token class-name">MainViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">MainViewController</span> alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;访问View之前&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    vc<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>redColor<span class="token punctuation">;</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;访问View之后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>第二步：我们在 MainViewController 中也设置一下背景色：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>__func__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>yellowColor<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>如果程序运行你会神奇的发现，程序的 背景色为红色，而不是黄色。这就是 View 的懒加载导致的；</p> <p>查看 NSLog 我们得知:<strong>Controller 的 viewDidLoad 方法，其实在我们在访问到了 controller 对应的 view（也就是 vc.view.backgroundColor）的时候才会调用；而不是在初始化的时候，也不是在访问完成之后才会调用</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">2020</span>-06-25 <span class="token number">11</span>:55:42.175168+0800 UIViewController使用<span class="token punctuation">[</span><span class="token number">12216</span>:17014362<span class="token punctuation">]</span> -<span class="token punctuation">[</span>SceneDelegate application:willConnectToSession:<span class="token punctuation">]</span>
<span class="token number">2020</span>-06-25 <span class="token number">11</span>:55:42.176636+0800 UIViewController使用<span class="token punctuation">[</span><span class="token number">12216</span>:17014362<span class="token punctuation">]</span> 访问View之前
<span class="token number">2020</span>-06-25 <span class="token number">11</span>:55:42.177088+0800 UIViewController使用<span class="token punctuation">[</span><span class="token number">12216</span>:17014362<span class="token punctuation">]</span> -<span class="token punctuation">[</span>MainViewController viewDidLoad<span class="token punctuation">]</span>
<span class="token number">2020</span>-06-25 <span class="token number">11</span>:55:42.177305+0800 UIViewController使用<span class="token punctuation">[</span><span class="token number">12216</span>:17014362<span class="token punctuation">]</span> 访问View之后

</code></pre></div><p>进一步验证查看:</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;访问View之前&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>vc isViewLoaded<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;是否加载1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         vc<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>blueColor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    vc<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>redColor<span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>vc isViewLoaded<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         vc<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>greenColor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;访问View之后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>运行此代码，你会发现，最后颜色为绿色，而<code>是否加载 1</code>，根本没有打印。</p> <h2 id="二、controller-跳转"><a href="#二、controller-跳转" aria-hidden="true" class="header-anchor">#</a> 二、Controller 跳转</h2> <h3 id="_1-modal-方式跳转"><a href="#_1-modal-方式跳转" aria-hidden="true" class="header-anchor">#</a> 1. Modal 方式跳转</h3> <p>首先拖动一个 ViewController 进来，并设置 Class 为 SecondController 并设置唯一标识符为 second。
<img src="/assets/img/jp-modal.939ab7e7.png" alt=""></p> <p>编写跳转逻辑:</p> <div class="language-java extra-class"><pre class="language-java"><code>
#<span class="token keyword">import</span> <span class="token string">&quot;ViewController.h&quot;</span>
#<span class="token keyword">import</span> <span class="token string">&quot;SecondViewController.h&quot;</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">ViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
<span class="token punctuation">}</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token comment">//    1. 初始化要跳转的控制器</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Main&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span> instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;second&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ios13 presentViewController不能铺满全屏,所以需要设置样式为全屏</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token annotation punctuation">@available</span><span class="token punctuation">(</span>iOS <span class="token number">13.0</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vc<span class="token punctuation">.</span>modalPresentationStyle <span class="token operator">=</span><span class="token class-name">UIModalPresentationFullScreen</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//    执行跳转逻辑，使用Modal的方式</span>
    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>vc animated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@end</span>


</code></pre></div><p>从下往上的显示出来，覆盖整个页面</p> <p><img src="/assets/img/jp-model-preview.f7c3932d.png" alt=""></p> <h3 id="_2-通过-segue-连线的方式"><a href="#_2-通过-segue-连线的方式" aria-hidden="true" class="header-anchor">#</a> 2. 通过 Segue 连线的方式</h3> <blockquote><p>这种方式仅仅局限于使用 storyboard 中使用</p></blockquote> <p>创建连接线
<img src="/assets/img/segue-line.dda80d21.png" alt=""></p> <p><img src="/assets/img/present_modely.11e1fd44.png" alt=""></p> <p>设置线的唯一标识符：</p> <p><img src="/assets/img/segue-line-indent.d3988b6d.png" alt=""></p> <p><strong>使用segue方式连接</strong></p> <p><strong>Segue过渡类型(modalTransitionStyle)上面图片的Translation：</strong>
是从一个场景切换到另一个场景时播放的动画。一般用默认的就好了。</p> <ul><li><p>Cover Vertical -- 新场景从下向上移动，逐渐覆盖旧场景。</p></li> <li><p>Flip Horizontal -- 视图水平翻转，以显示背面的新场景。</p></li> <li><p>Cross Dissolve -- 旧场景淡出，新场景淡入。</p></li> <li><p>Partial Curl -- 旧场景像书页一样翻开，显示下面的新场景。</p></li></ul> <p><strong>Segue显示样式(modalPresentationStyle)</strong>：
它决定了模态视图在屏幕上的显示方式，(只在iPad应用程序中)</p> <ul><li><p>Form Sheet(表单) -- 将场景调整到比屏幕小(不管朝向)，并在当前场景后面显示原始场景，这几乎相当于在一个iPad窗口中显示。</p></li> <li><p>Page Sheet(页面) -- 调整场景大小，使其以纵向格式显示。</p></li> <li><p>Full Screen(全屏) -- 调整场景大小，使其覆盖整个屏幕。</p></li> <li><p>Current Context(当前上下文) -- 以原始场景的显示方式展示场景。</p></li></ul> <p>代码中按钮点击，让连线执行：<code>performSegueWithIdentifier</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>segueMoveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>self performSegueWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;abcd&quot;</span> sender<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>也可以让按钮自动的跳转，但是不带有任何的条件过滤，将按钮拖拽到另外一个 storyborad 中，并选择 Modally；一般很少使用这种除非做类似于打开设置页面</strong> <img src="/assets/img/segue-auto.9238776c.png" alt=""></p> <h3 id="_3-uialertcontroller-的-alert-方式跳转"><a href="#_3-uialertcontroller-的-alert-方式跳转" aria-hidden="true" class="header-anchor">#</a> 3. UIAlertController 的 Alert 方式跳转</h3> <p>准备工作：在一个 StoryBoard 中新增一个按钮，并触发点击事件。</p> <p><strong>屏幕中央弹出对话框： UIAlertControllerStyleAlert</strong> <img src="/assets/img/alert.734bc8bf.png" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>showAlert<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token class-name">UIAlertController</span> <span class="token operator">*</span>alert <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertController</span> alertControllerWithTitle<span class="token operator">:</span>@<span class="token string">&quot;我是标题&quot;</span> message<span class="token operator">:</span>@<span class="token string">&quot;我是内容，啦啦啦&quot;</span> preferredStyle<span class="token operator">:</span> <span class="token class-name">UIAlertControllerStyleAlert</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">//    创建确认按钮</span>
    <span class="token class-name">UIAlertAction</span> <span class="token operator">*</span>ok <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertAction</span> actionWithTitle<span class="token operator">:</span>@<span class="token string">&quot;确定&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIAlertActionStyleDefault</span> handler<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span> <span class="token operator">*</span> _Nonnull action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;点击了确认按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    创建取消按钮</span>
    <span class="token class-name">UIAlertAction</span> <span class="token operator">*</span>cancel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertAction</span> actionWithTitle<span class="token operator">:</span>@<span class="token string">&quot;取消&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIAlertActionStyleCancel</span> handler<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span> <span class="token operator">*</span> _Nonnull action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;点击了取消按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    添加确认按钮</span>
    <span class="token punctuation">[</span>alert addAction<span class="token operator">:</span>ok<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    给对话框添加x取消按钮</span>
    <span class="token punctuation">[</span>alert addAction<span class="token operator">:</span>cancel<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>alert animated<span class="token operator">:</span><span class="token boolean">true</span> completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@end</span>

</code></pre></div><p><strong>屏幕底部弹出对话框：UIAlertControllerStyleActionSheet</strong> <img src="/assets/img/action-sheet.ca7dbeb3.png" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>showAlertInBottom<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token comment">//    创建ActionSheet并设置为UIAlertControllerStyleActionSheet类型</span>
    <span class="token class-name">UIAlertController</span> <span class="token operator">*</span>actionSheet <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertController</span> alertControllerWithTitle<span class="token operator">:</span>@<span class="token string">&quot;我是标题&quot;</span> message<span class="token operator">:</span>@<span class="token string">&quot;选择方式&quot;</span> preferredStyle<span class="token operator">:</span><span class="token class-name">UIAlertControllerStyleActionSheet</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    分别设置选项</span>
    <span class="token class-name">UIAlertAction</span> <span class="token operator">*</span>one <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertAction</span> actionWithTitle<span class="token operator">:</span>@<span class="token string">&quot;相册&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIAlertActionStyleDefault</span> handler<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span> <span class="token operator">*</span> _Nonnull action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;点击了相册&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    此处为了演示，设置为UIAlertActionStyleDestructive你会发现选项是红色</span>
    <span class="token class-name">UIAlertAction</span> <span class="token operator">*</span>two <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertAction</span> actionWithTitle<span class="token operator">:</span>@<span class="token string">&quot;拍照&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIAlertActionStyleDestructive</span> handler<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span> <span class="token operator">*</span> _Nonnull action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;点击了拍照&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    取消按钮</span>
    <span class="token class-name">UIAlertAction</span> <span class="token operator">*</span>cancel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">UIAlertAction</span> actionWithTitle<span class="token operator">:</span>@<span class="token string">&quot;取消&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIAlertActionStyleCancel</span> handler<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">UIAlertAction</span> <span class="token operator">*</span> _Nonnull action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;点击了取消按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span>actionSheet addAction<span class="token operator">:</span>one<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>actionSheet addAction<span class="token operator">:</span>two<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>actionSheet addAction<span class="token operator">:</span>cancel<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>actionSheet animated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="三、-controller-的传值"><a href="#三、-controller-的传值" aria-hidden="true" class="header-anchor">#</a> 三、 Controller 的传值</h2> <h3 id="_1-控制器顺向传值-a-b"><a href="#_1-控制器顺向传值-a-b" aria-hidden="true" class="header-anchor">#</a> 1. 控制器顺向传值 A-&gt;B</h3> <p>我们拿本章，第二节的数据，使用 <a href="#">Modal 方式跳转</a>的例子进行实验如何顺向传值。</p> <h4 id="传值方式一：使用代码的方式跳转传值（非-segue-的方式）"><a href="#传值方式一：使用代码的方式跳转传值（非-segue-的方式）" aria-hidden="true" class="header-anchor">#</a> 传值方式一：使用代码的方式跳转传值（非 Segue 的方式）</h4> <p>操作步骤：</p> <ol><li><strong>要传值到第二个页面，只需要在第二个页面.h 文件中声明一个属性即可</strong></li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  SecondViewController.h</span>
<span class="token comment">//  控制器的跳转</span>

#<span class="token keyword">import</span> <span class="token operator">&lt;</span><span class="token class-name">UIKit</span><span class="token operator">/</span><span class="token class-name">UIKit</span><span class="token punctuation">.</span>h<span class="token operator">&gt;</span>

NS_ASSUME_NONNULL_BEGIN

<span class="token annotation punctuation">@interface</span> <span class="token class-name">SecondViewController</span> <span class="token operator">:</span> <span class="token class-name">UIViewController</span>
<span class="token annotation punctuation">@property</span><span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>copy<span class="token punctuation">)</span> <span class="token class-name">NSString</span> <span class="token operator">*</span>passValue<span class="token punctuation">;</span><span class="token comment">//用来接收上一个页面传递过来的值</span>
<span class="token annotation punctuation">@end</span>

NS_ASSUME_NONNULL_END

</code></pre></div><p>然后展示出来:</p> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token comment">//</span>
<span class="token comment">//  SecondViewController.m</span>
<span class="token comment">//  控制器的跳转</span>
#<span class="token keyword">import</span> <span class="token string">&quot;SecondViewController.h&quot;</span>

<span class="token annotation punctuation">@interface</span> <span class="token class-name">SecondViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token annotation punctuation">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> <span class="token class-name">IBOutlet</span> <span class="token class-name">UILabel</span> <span class="token operator">*</span>infoLabel<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">SecondViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>infoLabel<span class="token punctuation">.</span>text<span class="token operator">=</span>self<span class="token punctuation">.</span>passValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@end</span>

</code></pre></div><ol start="2"><li><strong>再构建 ViewController 的时候将值附上即可</strong></li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token comment">//    1. 初始化要跳转的控制器</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Main&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span> instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;second&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    vc<span class="token punctuation">.</span>passValue<span class="token operator">=</span>@<span class="token string">&quot;我是第一个页面传递过来的数据&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//    执行跳转逻辑，使用Modal的方式</span>
    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>vc animated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="传值方式二：使用-segue-的方式跳转-传值"><a href="#传值方式二：使用-segue-的方式跳转-传值" aria-hidden="true" class="header-anchor">#</a> 传值方式二：使用 Segue 的方式跳转 传值</h4> <p>此种情况的主要示例可以见本章的第二节，使用 Segue 连线的方式跳转。</p> <p>那么其传值的方式，由于不能拿到 Controller 的实例，那么我们应该如何传值呢 ？</p> <p>我们可以查看 <code>SecondController</code>，在创建的时候为我们创建了一个额外的方法：<code>prepareForSegue</code></p> <blockquote><p><strong>我们可以使用 [segue destinationViewController] 的方式获取到源 Controller 和目标 Controller；并且 UIStoryboardSegue 我们发现，其实就是那一条线</strong></p></blockquote> <p>那么我们是不是就可以在第一个页面使用此方法 获取到目标 Controller，并赋值呢？</p> <div class="language-java extra-class"><pre class="language-java"><code>
<span class="token comment">//</span>
<span class="token comment">//  ViewController.m</span>
<span class="token comment">//  控制器的跳转</span>

#<span class="token keyword">import</span> <span class="token string">&quot;ViewController.h&quot;</span>
#<span class="token keyword">import</span> <span class="token string">&quot;SecondViewController.h&quot;</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>segueMoveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">ViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
<span class="token punctuation">}</span>


<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token comment">//    1. 初始化要跳转的控制器</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Main&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span> instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;second&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    vc<span class="token punctuation">.</span>passValue<span class="token operator">=</span>@<span class="token string">&quot;我是第一个页面传递过来的数据&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//    执行跳转逻辑，使用Modal的方式</span>
    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>vc animated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用此方法才会真正的传值</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>prepareForSegue<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIStoryboardSegue</span> <span class="token operator">*</span><span class="token punctuation">)</span>segue sender<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">{</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>second <span class="token operator">=</span> segue<span class="token punctuation">.</span>destinationViewController<span class="token punctuation">;</span>
    second<span class="token punctuation">.</span>passValue <span class="token operator">=</span>@<span class="token string">&quot;我是通过Segue的方式传递的值&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>segueMoveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>self performSegueWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;abcd&quot;</span> sender<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@end</span>
</code></pre></div><p><img src="/assets/img/segue_value.465d2756.png" alt=""></p> <h3 id="_2-控制器逆向传值-b-a"><a href="#_2-控制器逆向传值-b-a" aria-hidden="true" class="header-anchor">#</a> 2. 控制器逆向传值 B-&gt;A</h3> <p>逆向传值一般比较复杂；常用的方式有如下几种：</p> <ul><li>使用代理</li> <li>使用 Block</li> <li>使用通知的方式</li></ul> <p>事先准备:</p> <ul><li>在第二个页面设置一个输入框和点击按钮</li> <li>按钮点击关闭当前页面，回到第一个页面</li> <li>第一个页面展示数据</li></ul> <h4 id="_1-使用代理逆向传值"><a href="#_1-使用代理逆向传值" aria-hidden="true" class="header-anchor">#</a> (1) 使用代理逆向传值</h4> <p>要使用代理方式逆向传值，一共有如下几个步骤：</p> <ol><li><strong>B 页面声明协议和需要实现的方法</strong>;</li> <li><strong>B 页面声明代理属性</strong>;</li> <li><strong>B 页面完成传值</strong>;</li> <li><strong>A 页面必须遵循第一步声明的协议</strong>;</li> <li><strong>A 页面必须实现协议的方法</strong>;</li> <li><strong>B 页面的代理必须设置为 A 页面；</strong></li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  SecondViewController.h</span>
<span class="token comment">//  控制器的跳转</span>

#<span class="token keyword">import</span> <span class="token operator">&lt;</span><span class="token class-name">UIKit</span><span class="token operator">/</span><span class="token class-name">UIKit</span><span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
<span class="token comment">// 1. B页面声明协议</span>
<span class="token annotation punctuation">@protocol</span> passValueProtocol <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NSObject</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 声明一个方法，传递值给第一个页面，传递的参数为NSString的类型，当然 如果你要传递的类型为其他的类型请注意参数类型</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> passValueToOne<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">NSString</span> <span class="token operator">*</span><span class="token punctuation">)</span> value<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

NS_ASSUME_NONNULL_BEGIN

<span class="token annotation punctuation">@interface</span> <span class="token class-name">SecondViewController</span> <span class="token operator">:</span> <span class="token class-name">UIViewController</span>
<span class="token annotation punctuation">@property</span><span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>copy<span class="token punctuation">)</span> <span class="token class-name">NSString</span> <span class="token operator">*</span>passValue<span class="token punctuation">;</span><span class="token comment">//用来接收上一个页面传递过来的值</span>
<span class="token comment">// 2. 定义一个属性，必须遵循passValueProtocol协议</span>
<span class="token annotation punctuation">@property</span><span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>assign<span class="token punctuation">)</span> id <span class="token generics"><span class="token punctuation">&lt;</span>passValueProtocol<span class="token punctuation">&gt;</span></span> delegate<span class="token punctuation">;</span>
<span class="token annotation punctuation">@end</span>

NS_ASSUME_NONNULL_END


</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  SecondViewController.m</span>
<span class="token comment">//  控制器的跳转</span>

#<span class="token keyword">import</span> <span class="token string">&quot;SecondViewController.h&quot;</span>

<span class="token annotation punctuation">@interface</span> <span class="token class-name">SecondViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> <span class="token class-name">IBOutlet</span> <span class="token class-name">UILabel</span> <span class="token operator">*</span>infoLabel<span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>passValueClick<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>
<span class="token annotation punctuation">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> <span class="token class-name">IBOutlet</span> <span class="token class-name">UITextField</span> <span class="token operator">*</span>inputValue<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">SecondViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
    self<span class="token punctuation">.</span>infoLabel<span class="token punctuation">.</span>text<span class="token operator">=</span>self<span class="token punctuation">.</span>passValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>passValueClick<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token class-name">NSString</span> <span class="token operator">*</span>str <span class="token operator">=</span> self<span class="token punctuation">.</span>inputValue<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
    <span class="token comment">//    3, 将要传递的值给代理对象</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>delegate passValueToOne<span class="token operator">:</span>str<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    关闭当前页面</span>
    <span class="token punctuation">[</span>self dismissViewControllerAnimated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@end</span>


</code></pre></div><p>然后在第一个页面实现代理并获取到值:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  ViewController.m</span>
<span class="token comment">//  控制器的跳转</span>
#<span class="token keyword">import</span> <span class="token string">&quot;ViewController.h&quot;</span>
#<span class="token keyword">import</span> <span class="token string">&quot;SecondViewController.h&quot;</span>
<span class="token comment">//4. A页面必须遵循第一步声明的协议</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token generics"><span class="token punctuation">&lt;</span>passValueProtocol<span class="token punctuation">&gt;</span></span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>
<span class="token annotation punctuation">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> <span class="token class-name">IBOutlet</span> <span class="token class-name">UILabel</span> <span class="token operator">*</span>secondPassValueLabel<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">ViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token comment">//    1. 初始化要跳转的控制器</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Main&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span> instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;second&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">//6. B页面的代理必须设置为A页面；</span>
    vc<span class="token punctuation">.</span>delegate<span class="token operator">=</span>self<span class="token punctuation">;</span>

    vc<span class="token punctuation">.</span>passValue<span class="token operator">=</span>@<span class="token string">&quot;我是第一个页面传递过来的数据&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//    执行跳转逻辑，使用Modal的方式</span>
    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>vc animated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 5. A页面必须实现协议的方法</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>passValueToOne<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">NSString</span> <span class="token operator">*</span><span class="token punctuation">)</span>value<span class="token punctuation">{</span>
    self<span class="token punctuation">.</span>secondPassValueLabel<span class="token punctuation">.</span>text<span class="token operator">=</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@end</span>

</code></pre></div><p><img src="/assets/img/pass-delegate-2.6a6b5000.png" alt=""> <img src="/assets/img/pass-delegate-1.8ddca68c.png" alt=""></p> <h4 id="_2-使用-block-逆向传值"><a href="#_2-使用-block-逆向传值" aria-hidden="true" class="header-anchor">#</a> (2) 使用 Block 逆向传值</h4> <p>使用 Block 的方式和使用代理的方式是类似的；</p> <ol><li><strong>B 页面声明 Block</strong>;</li> <li><strong>B 页面声明 Block 属性</strong>;</li> <li><strong>B 页面完成传值</strong>;</li> <li><strong>A 页面实例化 B Controller 的时候实现 Block</strong>;</li></ol> <p><strong>B 页面声明 Block 并 B 页面声明 Block 属性</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  SecondViewController.h</span>
<span class="token comment">//  控制器的跳转</span>

#<span class="token keyword">import</span> <span class="token operator">&lt;</span><span class="token class-name">UIKit</span><span class="token operator">/</span><span class="token class-name">UIKit</span><span class="token punctuation">.</span>h<span class="token operator">&gt;</span>


NS_ASSUME_NONNULL_BEGIN
<span class="token comment">// 1. 定义block</span>
typedef <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span> <span class="token class-name">PassValueBlock</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">NSString</span> <span class="token operator">*</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@interface</span> <span class="token class-name">SecondViewController</span> <span class="token operator">:</span> <span class="token class-name">UIViewController</span>
<span class="token annotation punctuation">@property</span><span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>copy<span class="token punctuation">)</span> <span class="token class-name">NSString</span> <span class="token operator">*</span>passValue<span class="token punctuation">;</span><span class="token comment">//用来接收上一个页面传递过来的值</span>

<span class="token comment">// 2. 声明属性</span>
<span class="token annotation punctuation">@property</span><span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span>copy<span class="token punctuation">)</span> <span class="token class-name">PassValueBlock</span> passValueBlock<span class="token punctuation">;</span>
<span class="token annotation punctuation">@end</span>

NS_ASSUME_NONNULL_END

</code></pre></div><p><strong>B 页面完成传值</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//  SecondViewController.m</span>
<span class="token comment">//  控制器的跳转</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>passValueClick<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token class-name">NSString</span> <span class="token operator">*</span>str <span class="token operator">=</span> self<span class="token punctuation">.</span>inputValue<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
    <span class="token comment">//    3. 完成传值</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>passValueBlock<span class="token punctuation">)</span><span class="token punctuation">{</span>
        self<span class="token punctuation">.</span><span class="token function">passValueBlock</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//    关闭当前页面</span>
    <span class="token punctuation">[</span>self dismissViewControllerAnimated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>A 页面实例化 B Controller 的时候实现 Block</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 第一个页面</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Main&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span> instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;second&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    4. A页面实例化B Controller的时候实现Block</span>
    vc<span class="token punctuation">.</span>passValueBlock <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span><span class="token class-name">NSString</span> <span class="token operator">*</span> _Nonnull info<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>secondPassValueLabel<span class="token punctuation">.</span>text<span class="token operator">=</span> info<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    vc<span class="token punctuation">.</span>passValue<span class="token operator">=</span>@<span class="token string">&quot;我是第一个页面传递过来的数据&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self presentViewController<span class="token operator">:</span>vc animated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="_3-使用通知方式逆向传值"><a href="#_3-使用通知方式逆向传值" aria-hidden="true" class="header-anchor">#</a> (3) 使用通知方式逆向传值</h4> <p>众所周知，使用广播其实是一个一对多的传值方式，也就是说 事件中心，不关心是否是谁来得到具体的值；</p> <p>使用通知的方式传值有如下几个步骤：</p> <ol><li>A 页面注册事件，并实现事件响应函数</li> <li>B 页面发送事件，传递值</li></ol> <p><strong>A 页面注册事件，并实现事件响应函数</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>
#<span class="token keyword">import</span> <span class="token string">&quot;ViewController.h&quot;</span>
#<span class="token keyword">import</span> <span class="token string">&quot;SecondViewController.h&quot;</span>
<span class="token comment">//4. A页面必须遵循第一步声明的协议</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">ViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token generics"><span class="token punctuation">&lt;</span>passValueProtocol<span class="token punctuation">&gt;</span></span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>moveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>segueMoveToSecond<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender<span class="token punctuation">;</span>
<span class="token annotation punctuation">@property</span> <span class="token punctuation">(</span>weak<span class="token punctuation">,</span> nonatomic<span class="token punctuation">)</span> <span class="token class-name">IBOutlet</span> <span class="token class-name">UILabel</span> <span class="token operator">*</span>secondPassValueLabel<span class="token punctuation">;</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">ViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
    <span class="token comment">// 1. 注册事件名称为 @abc，并设置响应方法为handlerNoti</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSNotificationCenter</span> defaultCenter<span class="token punctuation">]</span> addObserver<span class="token operator">:</span>self selector<span class="token operator">:</span><span class="token annotation punctuation">@selector</span><span class="token punctuation">(</span>handlerNoti<span class="token operator">:</span><span class="token punctuation">)</span> name<span class="token operator">:</span>@<span class="token string">&quot;abc&quot;</span> object<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...无关代码</span>

<span class="token comment">// 2. 处理监听到来，从字典中获取到对应的Key值</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>handlerNoti<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">NSNotification</span> <span class="token operator">*</span><span class="token punctuation">)</span>noti<span class="token punctuation">{</span>
    <span class="token class-name">NSDictionary</span> <span class="token operator">*</span>userInfo<span class="token operator">=</span> noti<span class="token punctuation">.</span>userInfo<span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>secondPassValueLabel<span class="token punctuation">.</span>text<span class="token operator">=</span>userInfo<span class="token punctuation">[</span>@<span class="token string">&quot;info&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@end</span>

</code></pre></div><p><strong>B 页面发送事件，传递值</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>passValueClick<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token class-name">NSString</span> <span class="token operator">*</span>str <span class="token operator">=</span> self<span class="token punctuation">.</span>inputValue<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
    <span class="token comment">// 2. 发送事件，注意，事件名称必须和之前注册的一致，传递数据最好放在userInfo中，其主要接受一个key:value的字典。</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">NSNotificationCenter</span> defaultCenter<span class="token punctuation">]</span> postNotificationName<span class="token operator">:</span>@<span class="token string">&quot;abc&quot;</span> object<span class="token operator">:</span>nil userInfo<span class="token operator">:</span>@<span class="token punctuation">{</span>
        @<span class="token string">&quot;info&quot;</span> <span class="token operator">:</span> str
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    关闭当前页面</span>
    <span class="token punctuation">[</span>self dismissViewControllerAnimated<span class="token operator">:</span>YES completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="四、导航控制器-navigationcontroller"><a href="#四、导航控制器-navigationcontroller" aria-hidden="true" class="header-anchor">#</a> 四、导航控制器 NavigationController</h2> <p>导航控制器本质上不展示具体的内容，</p> <h3 id="_1-导航控制器的添加"><a href="#_1-导航控制器的添加" aria-hidden="true" class="header-anchor">#</a> 1. 导航控制器的添加</h3> <p>如何添加一个导航控制器呢？</p> <p><strong>Storyboard 添加</strong> <img src="/assets/img/navigator.dd95507e.png" alt=""></p> <h3 id="_2-使用导航控制器实现跳转"><a href="#_2-使用导航控制器实现跳转" aria-hidden="true" class="header-anchor">#</a> 2. 使用导航控制器实现跳转</h3> <p>提前准备：准备第二个 ViewController，并设置 Class 为 SecondViewController。</p> <p><strong>1. 自动型跳转</strong>
将按钮拖动到第二个页面并选择 Show，在运行会发现可以跳转了，并且顶部有一个返回按钮；</p> <p><img src="/assets/img/navigation-auto.75b2074d.png" alt=""></p> <p><strong>2. 手动型导航</strong>
提前准备：准备第二个 ViewController，并设置 Class 为 SecondViewController。并设置 Indentifer 为 abc;</p> <p>第一个页面点击按钮跳转到第二个页面的逻辑为：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token class-name">IBAction</span><span class="token punctuation">)</span>gotoSecondByCode<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token comment">//    从storyboard中获取到第二个controller</span>
    <span class="token class-name">SecondViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIStoryboard</span> storyboardWithName<span class="token operator">:</span>@<span class="token string">&quot;Main&quot;</span> bundle<span class="token operator">:</span>nil<span class="token punctuation">]</span> instantiateViewControllerWithIdentifier<span class="token operator">:</span>@<span class="token string">&quot;codeSecond&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    将controller亚茹导航控制器的堆栈中</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController pushViewController<span class="token operator">:</span>vc animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="_3-导航条的设置"><a href="#_3-导航条的设置" aria-hidden="true" class="header-anchor">#</a> 3. 导航条的设置</h3> <p><strong>（1）普通的颜色等设置</strong></p> <p><img src="/assets/img/navi-config.0d91a1ce.png" alt=""></p> <p><strong>（2）每个页面的标题和返回按钮设置</strong></p> <p>其实每一个页面的<code>navigationItem</code>都是不一样的，都是可以自定义的</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 标题设置：设置展示为一个文本</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>title<span class="token operator">=</span>@<span class="token string">&quot;首页&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 标题设置：设置展示为自定义的内容，此处拿图片作为例子</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//        self.navigationItem.title=@&quot;首页&quot;;</span>
        <span class="token class-name">UIImageView</span> <span class="token operator">*</span>img <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIImageView</span> alloc<span class="token punctuation">]</span> initWithImage<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">UIImage</span> imageNamed<span class="token operator">:</span>@<span class="token string">&quot;header&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>titleView<span class="token operator">=</span>img<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>（2）自定义返回按钮和右侧按钮</strong></p> <p>要想自定义，只需要自己拖入一个或者多个 <code>Bar Button Item</code>到顶部左侧和右侧替换到原来的即可。</p> <p><img src="/assets/img/custom-bar-btn.af3788ca.png" alt=""></p> <p>甚至我们也可以在代码中使用自定义 View 的方式，定义:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//        self.navigationItem.leftBarButtonItem</span>
        self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>rightBarButtonItem <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIBarButtonItem</span> alloc<span class="token punctuation">]</span> initWithCustomView<span class="token operator">:</span>img<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-代码设置-uinavigationcontroller-包括自定义返回"><a href="#_4-代码设置-uinavigationcontroller-包括自定义返回" aria-hidden="true" class="header-anchor">#</a> 4. 代码设置 UINavigationController(包括自定义返回)</h3> <h4 id="_1-自定义-uinavigationcontroller"><a href="#_1-自定义-uinavigationcontroller" aria-hidden="true" class="header-anchor">#</a> (1) 自定义 UINavigationController</h4> <p>按照之前的方式，使用自定义启动页面的方式(tips: 请见第一章第一部分):</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">//    1. 创建一个显示的UIWindow，大小和屏幕一样、</span>
    self<span class="token punctuation">.</span>window<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIWindow</span> alloc<span class="token punctuation">]</span> initWithFrame<span class="token operator">:</span> <span class="token class-name">UIScreen</span><span class="token punctuation">.</span>mainScreen<span class="token punctuation">.</span>bounds <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//    2. 创建一个显示的控制器</span>
    <span class="token class-name">MainViewController</span> <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">MainViewController</span> alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    vc<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>redColor<span class="token punctuation">;</span>
    <span class="token comment">// 设置标题</span>
    vc<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>title<span class="token operator">=</span>@<span class="token string">&quot;首页&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 初始化UINavigationController</span>
    <span class="token class-name">UINavigationController</span> <span class="token operator">*</span>navVC <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UINavigationController</span> alloc<span class="token punctuation">]</span> initWithRootViewController<span class="token operator">:</span>vc<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">//    3. 将控制器和window关联</span>
    self<span class="token punctuation">.</span>window<span class="token punctuation">.</span>rootViewController<span class="token operator">=</span>navVC<span class="token punctuation">;</span>

    <span class="token comment">//    4. 将window显示出来</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>window makeKeyAndVisible<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre></div><h4 id="_2-代码方式设置顶部按钮"><a href="#_2-代码方式设置顶部按钮" aria-hidden="true" class="header-anchor">#</a> (2)代码方式设置顶部按钮</h4> <p>此处举个例子点击右侧按钮展示另外一个页面；同理左侧的按钮都是可以自定义的。只是使用了<code>self.navigationItem.leftBarButtonItem</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  MainViewController.m</span>
<span class="token comment">//  UIViewController使用</span>

#<span class="token keyword">import</span> <span class="token string">&quot;MainViewController.h&quot;</span>
#<span class="token keyword">import</span> <span class="token string">&quot;ListViewController.h&quot;</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">MainViewController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">MainViewController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
    <span class="token class-name">NSLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span>__func__<span class="token punctuation">)</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">UIColor</span><span class="token punctuation">.</span>yellowColor<span class="token punctuation">;</span>
    <span class="token comment">//   自定义右侧按钮，此处使用UIBarButtonItem手写代码的方式，当然前面已经讲到UIBarButtonItem可以使用自定义View的方式，我们这里只是展示普通的文本</span>
    <span class="token class-name">UIBarButtonItem</span> <span class="token operator">*</span>right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIBarButtonItem</span> alloc<span class="token punctuation">]</span> initWithTitle<span class="token operator">:</span>@<span class="token string">&quot;列表&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIBarButtonItemStylePlain</span> target<span class="token operator">:</span>self action<span class="token operator">:</span><span class="token annotation punctuation">@selector</span><span class="token punctuation">(</span>rightClick<span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>rightBarButtonItem<span class="token operator">=</span>right<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>rightClick<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIBarButtonItem</span> <span class="token operator">*</span><span class="token punctuation">)</span> btn<span class="token punctuation">{</span>
    <span class="token comment">// 我们的ListViewController是直接使用代码的方式创建/xib 么有使用storyboard</span>
    <span class="token class-name">ListViewController</span> <span class="token operator">*</span>listVC<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">ListViewController</span> alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 压入堆栈</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController pushViewController<span class="token operator">:</span>listVC animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@end</span>

</code></pre></div><h4 id="_3-自定义页面返回"><a href="#_3-自定义页面返回" aria-hidden="true" class="header-anchor">#</a> (3) 自定义页面返回</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 返回到上一个页面</span>
 <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController popViewControllerAnimated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//  返回到首页</span>
<span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController popToRootViewControllerAnimated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 返回到指定页面，可以通过childViewControllers获取到所有的controller，然后自己选择跳转到a那里，这里只是做一个演示，回到第一个</span>
<span class="token class-name">NSArray</span> <span class="token operator">*</span>array<span class="token operator">=</span> self<span class="token punctuation">.</span>navigationController<span class="token punctuation">.</span>childViewControllers<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController popToViewController<span class="token operator">:</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_4-自定义左侧按钮"><a href="#_4-自定义左侧按钮" aria-hidden="true" class="header-anchor">#</a> (4) 自定义左侧按钮</h4> <p>默认情况下，左侧返回按钮，一直会存在一个返回的箭头，和一个文本；如果上一页页面设置了标题，那么返回的文本就是上一个页面的标题，否则为 Back；</p> <p>如果我们要自定义左侧的返回的话，和自定义右侧的方式是一样的:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad<span class="token punctuation">{</span>
<span class="token comment">//    此处只是简单的使用文字，当然你也可以使用customView的方式，设置图片等等</span>
    <span class="token class-name">UIBarButtonItem</span> <span class="token operator">*</span>left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIBarButtonItem</span> alloc<span class="token punctuation">]</span> initWithTitle<span class="token operator">:</span>@<span class="token string">&quot;返回&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIBarButtonItemStylePlain</span> target<span class="token operator">:</span>self action<span class="token operator">:</span><span class="token annotation punctuation">@selector</span><span class="token punctuation">(</span>leftClick<span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>leftBarButtonItem<span class="token operator">=</span>left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>leftClick<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIBarButtonItem</span> <span class="token operator">*</span><span class="token punctuation">)</span> btn<span class="token punctuation">{</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController popToRootViewControllerAnimated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>注意：当前讲解的都是在指定的页面设置的，如果要一劳永逸的设置标题/左侧返回/右侧按钮，则需要使用自定义 UINavigationController</strong></p> <h2 id="五、自定义-uinavigationcontroller"><a href="#五、自定义-uinavigationcontroller" aria-hidden="true" class="header-anchor">#</a> 五、自定义 UINavigationController</h2> <p>创建一个文件的时候记得继承 <code>UINavigationController</code>;当然也要记得在项目初始化的时候，改写成 <code>UINavigationController</code></p> <p>此处举一个例子：统一替换左侧的返回的样式：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//</span>
<span class="token comment">//  CustomNavigationController.m</span>
<span class="token comment">//  UIViewController使用</span>
#<span class="token keyword">import</span> <span class="token string">&quot;CustomNavigationController.h&quot;</span>

<span class="token annotation punctuation">@interface</span> <span class="token class-name">CustomNavigationController</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token annotation punctuation">@end</span>

<span class="token annotation punctuation">@implementation</span> <span class="token class-name">CustomNavigationController</span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Do any additional setup after loading the view.</span>
<span class="token punctuation">}</span>


<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>leftClick<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIBarButtonItem</span> <span class="token operator">*</span><span class="token punctuation">)</span> btn<span class="token punctuation">{</span>
    <span class="token punctuation">[</span>self popToRootViewControllerAnimated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>pushViewController<span class="token operator">:</span><span class="token punctuation">(</span><span class="token class-name">UIViewController</span> <span class="token operator">*</span><span class="token punctuation">)</span>viewController animated<span class="token operator">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>animated<span class="token punctuation">{</span>

    <span class="token comment">//    此处只是简单的使用文字，当然你也可以使用customView的方式，设置图片等等；此处将会统一设置所有的返回样式</span>
    <span class="token class-name">UIBarButtonItem</span> <span class="token operator">*</span>left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token class-name">UIBarButtonItem</span> alloc<span class="token punctuation">]</span> initWithTitle<span class="token operator">:</span>@<span class="token string">&quot;返回&quot;</span> style<span class="token operator">:</span><span class="token class-name">UIBarButtonItemStylePlain</span> target<span class="token operator">:</span>self action<span class="token operator">:</span><span class="token annotation punctuation">@selector</span><span class="token punctuation">(</span>leftClick<span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    viewController<span class="token punctuation">.</span>navigationItem<span class="token punctuation">.</span>backBarButtonItem<span class="token operator">=</span>left<span class="token punctuation">;</span>

    <span class="token comment">//    重点：一定要记得调用父类的</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> pushViewController<span class="token operator">:</span>viewController animated<span class="token operator">:</span>animated<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@end</span>


</code></pre></div><h2 id="六、其他特性"><a href="#六、其他特性" aria-hidden="true" class="header-anchor">#</a> 六、其他特性</h2> <p>IOS8.0之后才可以使用如下特性。</p> <ul><li><p>点击屏幕消失标题栏
<code>self.navigationController.hidesBarsOnTap=YES;</code></p></li> <li><p>滑动的时候消失,需要搭配 ScrollView 及其子类，消失之后就不会展示了
<code>self.navigationController.hidesBarsOnSwipe=YES;</code></p></li> <li><p>将键盘弹出的时候影藏，隐藏之后不会再出现
<code>self.navigationController.hidesBarsWhenKeyboardAppears=YES;</code></p></li> <li><p>当屏幕横屏的的时候消失
<code>self.navigationController.hidesBarsWhenVerticallyCompact=YES;</code></p></li></ul> <p><strong>参考</strong></p> <ul><li><a href="https://ke.qq.com/webcourse/index.html#cid=1583910&amp;term_id=101682609&amp;taid=7928380780981030&amp;vid=5285890788197354936" target="_blank" rel="noopener noreferrer">IOS12+Objective-C+Xcode 教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/8/2020, 2:45:26 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.04a154e6.js" defer></script><script src="/assets/js/5.7747528e.js" defer></script><script src="/assets/js/3.af83b867.js" defer></script><script src="/assets/js/6.942ab2bf.js" defer></script>
  </body>
</html>
