(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{928:function(e,t,v){"use strict";v.r(t);var _=v(18),a=Object(_.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"vue-和-react-的不同点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-和-react-的不同点"}},[e._v("#")]),e._v(" vue 和 react 的不同点")]),e._v(" "),v("h2",{attrs:{id:"什么是-mutable-什么是-immutable对象"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#什么是-mutable-什么是-immutable对象"}},[e._v("#")]),e._v(" 什么是 Mutable 什么是 Immutable对象")]),e._v(" "),v("ul",[v("li",[v("strong",[e._v("Mutable对象：")])])]),e._v(" "),v("p",[e._v("在JavaScript中，对象是引用类型的数据，其优点在于频繁地修改对象时都是在原对象的基础上修改，并不需要重新创建，这样就可以有效地利用内存，不会造成内存空间的浪费")]),e._v(" "),v("ul",[v("li",[v("strong",[e._v("Immutable对象：")])])]),e._v(" "),v("p",[e._v("每次修改一个immutable对象时都会创建一个新的不可变对象，在新对象上的操作不会影响到原对象的数据")]),e._v(" "),v("ul",[v("li",[v("strong",[e._v("区别：")]),e._v("\nImmutable对象在修改数据时并不会复制一整份数据，而是将变化的节点与未变化的节点的父子关系转移到一个新节点上，而Mutable在复制时是“全量”。Immutable对象需要通过set和get来对数据进行读和写")])]),e._v(" "),v("h2",{attrs:{id:"响应式-reactivity-的不同"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#响应式-reactivity-的不同"}},[e._v("#")]),e._v(" 响应式(Reactivity)的不同")]),e._v(" "),v("ul",[v("li",[e._v("以 "),v("code",[e._v("Vue")]),e._v(" 为代表的 "),v("code",[e._v("mutable")]),e._v(" + "),v("code",[e._v("change tracking(变更追踪)")]),e._v("。即"),v("strong",[e._v("可变的数据结构，配合变更追踪，触发更新函数")]),e._v("。")]),e._v(" "),v("li",[e._v("以 "),v("code",[e._v("React")]),e._v(" 为代表的 "),v("code",[e._v("immutability")]),e._v(" + "),v("code",[e._v("referential equality testing(引用相等性)")]),e._v("。"),v("strong",[e._v("即不可变的数据结构，配合反复执行的渲染函数，以及在函数执行过程中，通过数据的引用相等性判断，找出变更部分")]),e._v("，只应用变化的部分到 UI 上。")])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://cdn-1252273386.cos.ap-guangzhou.myqcloud.com/images/ad1a21825d21becea9432e1df48e39e1.png",alt:""}})]),e._v(" "),v("blockquote",[v("p",[e._v("文章图参考自: "),v("a",{attrs:{href:"https://twitter.com/youyuxi/status/1169325119984082945",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reactivity with different tradeoffs"),v("OutboundLink")],1)])]),e._v(" "),v("ol",[v("li",[v("code",[e._v("React")]),e._v(" 也有 "),v("code",[e._v("Mutatble")])])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://cdn-1252273386.cos.ap-guangzhou.myqcloud.com/images/ac14b3d22b92358e6a7c4e86790b4c27.png",alt:""}})]),e._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),v("p",[e._v("上面讲到 React 是采用"),v("code",[e._v("Immutability")]),e._v("模式，但是并不意味着所有的数据都是"),v("code",[e._v("immutablity")]),e._v("，React 里也有 "),v("code",[e._v("mutable")]),e._v(" 的部分，比如")]),e._v(" "),v("ul",[v("li",[v("p",[e._v("最直观的 "),v("code",[e._v("useRef")]),e._v("。它不但是 "),v("code",[e._v("mutable")]),e._v(" 的，甚至是 "),v("code",[e._v("React")]),e._v(" 亲自进行 "),v("code",[e._v("mutate。")]),e._v(" "),v("code",[e._v("useRef(null)")]),e._v(" 初始值是 "),v("code",[e._v("null")]),e._v("，在渲染到 "),v("code",[e._v("DOM")]),e._v(" "),v("code",[e._v("之后，React")]),e._v(" 亲手以 "),v("code",[e._v("mutable")]),e._v(" 的方式，将 div 元素赋值给 "),v("code",[e._v("ref.current")]),e._v("，因此我们才得以在 "),v("code",[e._v("useEffect")]),e._v(" 内部访问 div 元素。")])]),e._v(" "),v("li",[v("p",[v("code",[e._v("useEffect")]),e._v(" 函数更是明确表明，可以在内部执行命令式风格的 "),v("code",[e._v("side-effects")]),e._v(" 副作用代码。")])]),e._v(" "),v("li",[v("p",[e._v("在事件处理函数里，我们也可以执行副作用代码。")])])]),e._v(" "),v("p",[v("code",[e._v("React")]),e._v(" 自始至终，都只是致力于让 render 函数/"),v("code",[e._v("function-component")]),e._v(" 尽可能没有副作用和可变数据。而不是排斥一切 "),v("code",[e._v("mutable")]),e._v(" 和 "),v("code",[e._v("side-effects")]),e._v("。")]),e._v(" "),v("p",[e._v("React 所做的是，延后和隔离副作用，以便更好的管理。")])]),e._v(" "),v("h2",{attrs:{id:"参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/82958907?utm_source=wechat_session&utm_medium=social&utm_oi=711560499950522368&from=timeline&s_s_i=EkkvHqXVsoClGx+v+F8RG8x+y0GBI1CerQF+nZtLO18=&s_r=1",target:"_blank",rel:"noopener noreferrer"}},[e._v("打破框架的范式之争"),v("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=a.exports}}]);