(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{533:function(t,s,a){t.exports=a.p+"assets/img/show.6b27b2ef.png"},534:function(t,s,a){t.exports=a.p+"assets/img/replace.e70e9ba6.png"},781:function(t,s,a){"use strict";a.r(s);var e=a(18),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"浅谈viewcontroller生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浅谈viewcontroller生命周期"}},[t._v("#")]),t._v(" 浅谈ViewController生命周期")]),t._v(" "),e("blockquote",[e("p",[t._v("前言：在编写 ViewController 的时候我们可能会有疑问，ViewController 的生命周期方法有哪些？调用的次序是什么？本文将会以案例的方式介绍。")])]),t._v(" "),e("h2",{attrs:{id:"生命周期函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期函数"}},[t._v("#")]),t._v(" 生命周期函数")]),t._v(" "),e("p",[t._v("在讲述 ViewController 生命周期函数调用次序之前，需要了解有哪些生命周期函数:")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 类的初始化方法")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("initialize"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//通过xib来初始化控制器")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instancetype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("initWithNibName"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSString")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("nibNameOrNil bundle"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSBundle")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("nibBundleOrNil "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对象初始化方法")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instancetype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("init"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从归档初始化")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instancetype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("initWithCoder"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NSCoder")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("coder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//归档初始化后唤醒nib")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("awakeFromNib"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加载视图:当访问UIViewController的view属性时，view如果此时是nil，那么VC会自动调用loadView方法来初始化一个UIView并赋值给view属性。此方法用在初始化关键view，需要注意的是，在view初始化之前，不能先调用view的getter方法，否则将导致死循环（除非先调用了[super loadView];）如果没有重载loadView方法，则UIViewController会从nib或StoryBoard中查找默认的loadView，默认的loadView会返回一个空白的UIView对象。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("loadView"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 视图加载完成")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewDidLoad"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将要展示:,在view即将添加到视图层级中（显示给用户）且任意显示动画切换之前调用,此时self.view.superview为nil.这个方法中完成任何与试图显示相关的任务，例如改变视图方向、状态栏方向、视图显示样式等。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewWillAppear"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BOOL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("animated"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将要布局子视图,self.view.superview为_UIParallaxDimmingView")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewWillLayoutSubviews"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已经布局子视图")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewDidLayoutSubviews"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已经展示:在view被添加到视图层级中，显示动画切换之后调用（这时view已经添加到supperView中）。在这个方法中执行视图显示相关附件任务，如果重载了这个方法，必须在方法中调用[supper viewDidAppear];,此时self.view.superview为UIViewControllerWrapperView。")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewDidAppear"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BOOL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("animated"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将要消失:view即将从supperView中移除，移除动画切换之后调用，此时已调用removeFromSuperview。此时self.view.superview还是superview为UIViewControllerWrapperView.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewWillDisappear"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BOOL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("animated"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已经消失:view从superView中移除，移除动画切换之后调用，此时已调用removeFromSuperview。此时self.view.superview还是superview为nil.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("viewDidDisappear"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BOOL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("animated"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 内存警告")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("didReceiveMemoryWarning"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 销毁释放")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("dealloc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"segue-a-push-to-b-b-pop-调用次序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#segue-a-push-to-b-b-pop-调用次序"}},[t._v("#")]),t._v(" segue: A push to B , B pop 调用次序")]),t._v(" "),e("p",[t._v("说明：此处的 pop 不仅是 "),e("code",[t._v("popViewControllerAnimated")]),t._v("也可能是"),e("code",[t._v("左滑返回")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(533),alt:""}})]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A 出现的次序")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:36.592169+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:36.592287+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:36.592552+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:36.593958+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:36.594046+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":18:36.624485+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear A\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A push到 B")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:07.798123+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:07.798232+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:07.798346+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillDisappear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:07.798461+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:07.814858+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:07.814982+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:08.318965+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidDisappear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":20:08.319101+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear B\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# B pop")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":23:04.113623+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":23:04.113744+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":23:04.618726+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":23:04.618908+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("34988")]),t._v(":1763624"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":23:04.678278+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("35825")]),t._v(":1773001"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" dealloc B\n\n\n")])])]),e("p",[t._v("注意点：")]),t._v(" "),e("ol",[e("li",[t._v("A push to B 下，B 展示的时候在 B"),e("code",[t._v("viewWillAppear")]),t._v("即将展示前会"),e("code",[t._v("viewWillDisappear A")]),t._v("在 B 展示前 A 会"),e("code",[t._v("viewDidDisappear")])]),t._v(" "),e("li",[t._v("在 B pop 时会先调用 B 的即将消失"),e("code",[t._v("viewWillDisappear")]),t._v("，然后才会调用 A 的即将展示"),e("code",[t._v("viewWillAppear")])])]),t._v(" "),e("p",[e("strong",[t._v("总结")])]),t._v(" "),e("ol",[e("li",[e("p",[t._v("针对 pop 的情况，被压入堆栈的页面不会触发销毁"),e("code",[t._v("dealloc")]),t._v(",弹出堆栈页面的会触发"),e("code",[t._v("dealloc")]),t._v(";")])]),t._v(" "),e("li",[e("p",[t._v("对于新打开的页面整体触发流程为: "),e("strong",[t._v("loadView -> viewDidLoad -> viewWillAppear -> viewWillLayoutSubviews -> viewDidLayoutSubviews -> viewDidAppear")]),t._v(" ;")])]),t._v(" "),e("li",[e("p",[t._v("经过 push 的方式展示的页面，在调用 "),e("code",[t._v("viewWillAppear")]),t._v(" 之前会调用“前一个（A->B A 在前；B pop A A 在前）”页面的 "),e("code",[t._v("viewWillDisAppear")]),t._v(" ; 在 "),e("code",[t._v("viewDidAppear")]),t._v(" 调用之前会调用”前一个“页面的"),e("code",[t._v("viewDidDisAppear")]),t._v(";")])])]),t._v(" "),e("h2",{attrs:{id:"a-pushviewcontroller-to-b"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-pushviewcontroller-to-b"}},[t._v("#")]),t._v(" A pushViewController to B")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NextControllerViewController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ctr "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NextControllerViewController")]),t._v(" alloc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" init"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationController pushViewController"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("ctr animated"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("YES"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("总结： 生命周期调用次序同A push to B , B pop 调用次序")])]),t._v(" "),e("h2",{attrs:{id:"a-replace-show-detail-to-b-下滑展示-b"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-replace-show-detail-to-b-下滑展示-b"}},[t._v("#")]),t._v(" A replace(show detail) to B , 下滑展示 B")]),t._v(" "),e("p",[e("img",{attrs:{src:a(534),alt:""}})]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A展示")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":35:32.949604+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":35:32.949774+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":35:32.950182+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":35:32.951681+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":35:32.951773+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":35:32.990599+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear A\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A replace to B")]),t._v("\n\n01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.035390+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.035499+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.038010+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.039963+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.040172+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.041020+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.041120+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:14.547319+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear B\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# B pop")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:48.190346+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:49.063327+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":36:49.063679+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("36547")]),t._v(":1782572"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" dealloc B\n\n")])])]),e("p",[e("strong",[t._v("总结")])]),t._v(" "),e("ol",[e("li",[t._v("针对 replace 的情况，展示 B 的时候不会调用 A 的 "),e("code",[t._v("viewWillDisappear和viewDidDisappear")]),t._v("方法")]),t._v(" "),e("li",[t._v("B 其实是悬浮在 A 之上的")])]),t._v(" "),e("h2",{attrs:{id:"a-modally-b-b-pop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-modally-b-b-pop"}},[t._v("#")]),t._v(" A modally B , B pop")]),t._v(" "),e("p",[t._v("使用 modaly 的方式展示，生命周期调用次序如下:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A展示")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":45:21.487420+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":45:21.487541+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":45:21.487808+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":45:21.488963+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":45:21.489044+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":45:21.519922+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear A\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A model B")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.633829+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.633947+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.636299+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.638101+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.638310+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.639080+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:10.639183+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:11.145852+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear B\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# B pop")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:48.883707+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:49.635664+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(":46:49.636051+0800 LifecycleDemo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("37619")]),t._v(":1802939"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" dealloc B\n\n\n")])])]),e("p",[e("strong",[t._v("你会发现生命周期调用次序和 replace 是一致的")])]),t._v(" "),e("h2",{attrs:{id:"a-popover-b-b-pop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#a-popover-b-b-pop"}},[t._v("#")]),t._v(" A popover B , B pop")]),t._v(" "),e("p",[e("strong",[t._v("此处直接给出结论：生命周期调用次序和 replace 是一致的")])]),t._v(" "),e("h2",{attrs:{id:"父视图控制-a-b"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#父视图控制-a-b"}},[t._v("#")]),t._v(" 父视图控制 A,B")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IBAction")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("showAHideB"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("sender "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctrB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view removeFromSuperview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uiView addSubview"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctrA"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IBAction")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("showBHideA"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("sender "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctrA"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view removeFromSuperview"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uiView addSubview"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("self"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctrB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("view"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Show A hide B")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.351005+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.351191+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.351518+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" loadView A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.351630+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLoad A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.351846+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.352730+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.352822+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":07:46.353644+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear A\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Show B hide A")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":08:37.408207+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillDisappear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":08:37.408460+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":08:37.409167+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":08:37.409271+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidLayoutSubviews B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":08:37.409833+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidDisappear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":08:37.409953+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear B\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 再次 Show A hide B")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":09:10.473537+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":09:10.473771+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewWillAppear A\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":09:10.474719+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidDisappear B\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-09-01 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v(":09:10.474891+0800 LifeCycleWIthReplace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39966")]),t._v(":1840958"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewDidAppear A\n\n\n")])])]),e("p",[e("strong",[t._v("总结")])]),t._v(" "),e("ol",[e("li",[t._v("在展示 A 之前使用"),e("code",[t._v("[self.ctrB.view removeFromSuperview]")]),t._v("的方式将 B 移除视图，会触发 B 的 view 初始化，从而会调用"),e("code",[t._v("loadView")]),t._v("和"),e("code",[t._v("viewDidLoad")]),t._v(";")]),t._v(" "),e("li",[t._v("其余的情况和 segue 的 show 的方式是一直的")])]),t._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),e("ol",[e("li",[e("p",[e("strong",[t._v("在当前页面展示前会分别调用前一个页面的"),e("code",[t._v("viewWillDisAppear")]),t._v("和"),e("code",[t._v("viewDidDisAppear")])]),t._v(" 有:")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("使用自定义 "),e("code",[t._v("addSubView")]),t._v(" 的方式")]),t._v(";")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("使用 segue 的"),e("code",[t._v("show")]),t._v("模式")]),t._v(": 在 "),e("code",[t._v("NavigationController")]),t._v(" 存在的情况下，"),e("code",[t._v("segue")]),t._v(" 连接的 "),e("code",[t._v("Controller")]),t._v(" 会被压入导航栈。新压入的视图控制器有返回按钮，单击可以返回;")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("使用 NavigationController 的 pushViewController和 popToViewController 方式")])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("A -> B 不会触发 A 的 "),e("code",[t._v("viewWillDisappear和viewDidDisappear")]),t._v("方法")])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("使用 segue 的"),e("code",[t._v("show Detail")]),t._v("模式")]),t._v(": 这种类型是不压栈的，不管有没有 "),e("code",[t._v("NavigationController")]),t._v("，它只是 "),e("code",[t._v("replace")]),t._v(" 取代了当前的视图，不提供返回按钮。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("使用 segue 的"),e("code",[t._v("Present Modally")]),t._v("模式")]),t._v(": 这种类型是不压栈的，以模态的方式显示，类似于弹出的警告窗口、登陆框一类的视图；用户无法与上一个视图交互，除非关闭当前视图。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("使用 segue 的"),e("code",[t._v("Present As Popover")]),t._v("模式")]),t._v(": 这种类型不压栈，类似于下拉菜单；在 iPad 中，目标视图以浮动窗样式呈现，点击目标视图以外区域，目标视图消失；在 iPhone 中，默认目标视图以模态覆盖屏幕")])]),t._v(" "),e("li",[e("p",[t._v("使用代码的方式 "),e("strong",[t._v("presentViewController")])])])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);