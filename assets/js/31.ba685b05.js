(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{457:function(t,s){t.exports="data:image/png;base64,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"},458:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAogAAAIlCAMAAABhFfm4AAAB1FBMVEX///8ET9jYWWA0SV0AAACVre3Hx8fssbTk5OSDi5ShqrP9/f79/P2enp4ICAjT09P6+vvo6Og5OTm7u7sVFRUwMDCBgYFycnJgYGCtra0rKyvPz8/h4uImJiaLi4tKSkrv7+98fHxWVlYODg5ubm77/P7X19eZmZlaWlr19fXKysrExMSwsLA0NDTx9P3H1PV2dnZCQkLe3t+jo6OIiIiht+9oaGgeHh7a2trz8/ORkZFTU1OUlJRRUVE7Ozu/v7+mpqaioqJqamqGourt7e4+Pj62trZlZWXl5eWzs7P39/jx8fGFhYVOTk5GRkYvZdzMzMy4vsXBwcGOjo5jY2MaGhohISHh6Prl6/upqamWlpbq6ur77u7X2t721dfppah5eXnS3Pfca3H1+P7a4vnGxsZdXV24uLgQVNl5mOhHdN/98/T00NJTfeK8y/RukOb33t8bWdk8T2OvwfE+b9+WoKqbm5ticIJMXXD9+PnM1/buur2psLmJk57mk5dCVWjp6+0lXtvN0dafp66oqKiRm6baYWjs8Pz65ufKz9TAxsxzgI7k5ulseojQ1Nmwt77E0vTxxcfhgIWRquxih+R6hJCIntpVcLS2d3pyiMPPkZRpe6kCY4/uAAAhR0lEQVR42uzdzWoTYRTH4bPILpbARJIJkqQwpcWPhRDpQhAsVKilSLHiois36h14/ZpAnGbj18JzGp6HkCv48+Y3k4EJAAAAAAAAAAAAAAAAAAC4Nw6W3aBbHgQkGs/b8WEcjtv5OCDLrBtvF9nNAnIcD65j63pwHJDiy0n0TtqADBdd3DHsLgISzHbPwFYlkuLmKu66ugn4PUNkP/lppgQXK9Swc/vm1u0bUuze0H7ihjZ/xV987J/1Qw/nw3MPPfBPPAbGHhoEFGCIlGCIlGCI5FgMfmUR8EeciOwjQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6QEQ6SC0cdRQLrmtAnINp2uP5Br1UREswrINBqMNt8ykTz9WbiSiWTa1qFMJE9/EMpEEvVpKBPJ05+CMpFMR9PYkIlkOmtiQyaS6dE2CmUiiYbb808mkqcPRJlInj4QZSKJ+kCUieTpA1EmkqcPRJlInj4QZSKpFjsh+OLzbiZ6zwopJi8D8k1uA/J9+haQ77m3hlPB1GUyFRy9Dsh3OgvI9+FZQL72bcD/s2jbp6PJxvuIs+Vl/PCunbz5GmsPmvll/PT44auA7+zdy07bQBQG4H/xCyEldnB8wXHihBgEuUoJRARCEkjFnQZVLSBRNt3QvkGfoA/euFTtC4SMF/8n2fJ4fWR5Zs6Z8w5eOI9DdzIhJ5MbILSRiht920XesqyAsbVQAKb8rwyRpfpJ56OdW2vb89cKAL9/nCzQK7KKa9u2STt1ihz9s78mSk+UJcsP6f/iJ6b6uPHIaX2BUf1phoUtxjn84XDOv+55B5Fl6nBMi5t0g/b9BOU6k5swDL/am3W+nhaLxZgspu6xdfC5EzFxU78gslSV8m2jU7bY4pnXA9q8XGfDTuxe5H1qDQYB+XGQ2kO+HXik7bVgFdsQWapWtFBLA9HlHjBj4ZXlYd27Z1QGcMn50UIFQJt8SO6/M/jE4gZElup4PB5xXvcO2OYPoM7KiFNaQ3rdAoALvjkGypedKYMqyaEDkeVy6rtnfG30w8hlAUhoW6NRr+Oz1N0FsLtQqPE7AJeMw9mEkXcOkSXLx33uoBGyMY7uzgPawecvfYZ2lIuOsLHJq63rORsbAEabVsLBNHY5hsiyWew2kT+x/WIOJXt8txgHIekh2gcwo0f+zAM4PkvIcY4nuQnDLYgs17GdIL/JyxI7WG8C+w7qHHxjdbiOhULM2gsWSrTrhWrAOpoT+wUiSzbyCz3fwu00yeHNzi5++MVHB6lmz++vASgX8rjt+n4JuNUGn6zOoz57kgXb+hGULNjWfrJkAZsQMY/ax5MsYA4ixuXVwF6yYEOBKFnQVCBKFtxtQ8S8cw8i5jmPEDHv+gki5lViiJi3H0HEvCMfIuYVuhAxr6CmZ5IF5QuImNfqQ8S81xpEzPs8h4h5pycQMc9NIGLe5XeImNcJIWJe6Qoi5j1/gIh5ZzsQMW+2CRHzrB5EzNurQ8S8cQAR80YfIWJedQAR8wZViJgXjPDmNjoBct4OUi/WP6cQeX/BV7w5487h4RWHh4eHLlzStt8uVfnJKnz7iT+O4+Hlw8OE/sPDQwsWfwD3zOGYShOTVehZSG1MuOe02xZ77fYLELAAeF1gl1pnlFXYnCFVJde+8M0ISPiPBZH3t3OG1Al5/YG5L9xvsQR4dqdTZaPTSajJiqzCYQkpN2R+au8VOb5iGedMAJcHwAfuQ+T9XZXwR9HHybRLezqdbuGU95YVcseyYnW/kJUIb5DKsXFeCzp8G9Vpex7pLW5DiKxA4xIphwEGZJRHKqYDzLkBh6o2lZVIXKRaPGg+k7G1ngMqjAAMh+nrbxBZgckpUs8ckLXnPskLZ8Y6cMvJdZBo9UZWo9ZGyvJHQRlAZXZ1hcB/BRy/elv0F08iK1Bbg4h5/RZEzLsoQ8S8YgEi5nV3IWJedAQR8yIlNUgWPFUgYt7QgYh5jwpEyYLtLYiYt30HEfPYhIh5KgWQTGAOIsblCRHzNhSIkgVNBaJkwd02RMw79yBinvMIEfOunyBiXiWGiHn7EUTMO9IR2ZIFhS5EzCsUIWJe+QIi5rX6EDHvtQYR89pziJh3qqOJJQtcdTiT3+zd2U9aaRgG8OckL6YJsiOyI+pRUTggitvgUqlLbV2iIi43EKgCCRgD6STcmTTx1kQzzWT+2TmH2k7HbtKZwvk43y9VQtub1+fJexYiqMH6OTiu88JO4Awc10nWI5trw9uf5m8IxnWUiyidJloEx3XUESn4W3VyHbZCslVwXIfZiYi/QSLXcW+J+sFxHWck/v6InAoEZ8Bx/yd9NKFrj0SUv3ET9w1S6kpon6uUBI77UnRXaK/dKDpHvOXLX52iQvu10ES+/DVC2hXab7dDAd1qavmzJSV0QgqdcCs8SXcsf8bor4ROuNLjSfjy14qo8FTsLwotLX/mJITOSOBJ+PLXCp3QGTo8BfNniPwskRdRy8ufQSou4qq9F3COwf0asEweQBa3L6xbINPPh7AwOwDFst0FwDFrBpLBYNDF4KicmtNx+3DgN/ocNOmPo4+U1tloivyQTVAML8kGxShNADilEflvreezFGJvVE696Xhc5A7vLJGvjyI7IzglgyUen6aXY7EQgBnawyZll12yRTowAcvk2nIbB+CiddZG5dSczhgRBWCi9TDFAVgWXAH6oAeYJ5/ZZEru++iDpNnTs/JimgzAAI2xNiqn5nT0+/Rc/9xx6Mge+s+wtz/RuxmPW+3xeNwMuMg/QkQvzQr7rLnXRETjZO0FMEhnjI3KqTqd52QbNxoj5PPRPuxEIyHjqj3g3oBsm7zzHifNvfJNI0SLwFacJsPTjj0AewtzrI3KqTgd8zCRlfw9ZJuiOZgNZHlHNuo/nwWwSWsAAmTGbARzFANgoRhGyIEXo75e1kblVJyOzUgUdNHCAtn6aQsIUq97doSSB3QGnNIUoDdGACe9stEoAPlAjnUaHiYKsDYqp+Z0LIPkRpiaZgEsRcJksNG6/Acf7uVs0qpn75SWDWQDMEo9tiSRMWtiblRO1emYaQwHZNqZ9c5uAx4K2u2hUTJ5KQYTjQFYJh+NeEdNWRoBMExLS8N0ssXiqJya0/GSAzNGuAd7KQack3vBixgN6OeeIUgXAJJEMTOARZoHYCVyrZGeyVE5FacTHqYVLBlHyeqnUUzQdoRoaXAsJps3GrcAbNgngNDr10YjgF6ascBICwr+ygqL1JrO274+Dyb7mibgXBvAnmNsMiI/W12mGGSnryCbdLsPAYQ88ldf0yBro3KMprNBe1oZVUMYTMf2Uq+VUTXkCelk9BVBuNNXhS/V8pW76Ac1oSmn16k1HV5ENftxOvcoFKvVHMRqNfHlz7iWy+eBfD5fEFI5mYS88lBVYTq8iGr243SOUS+LIiCKYkF4pI6bYrmCfLl8LQhV8R/HKkpn2vRzRYwef5ISPhCPK4kKL2JTu4t4iWhUum9AV8tcC49UKrVUCU0FpZaJj67VlE6anPGfKOJ1Tm7gDcRj2aXQVEfhEhlexKY2F7EoIY9cCcf1KhKPowJwf32ZRymB23/9xHeFH3lPZByyp4987j7r0tpOYHFwzHk4s9ofywYd0/6D5KjBsHLiCq/bbPtvxj0e01zcu2l58Spk7kWrwkNEw5stF7GGf2SEkiTLQ5QAqcaLKGtzESuNDKSyHgqxeJ35TOmqlEf9soT85S2qdfn/ph6UnpBO79b8wJll0xsfMXn2xif2bRcvw653U4a3p8kD/2tHMNs/vLrhPB/8bTswuWaN9Ll9R2n7EDU9NDhiXZsMbP82eO7cWB3ujwUdr6cPFk7fGqZWXOGXF7bliZ49j2lkzntEsuxAi0XMISNJx7iRpBxyQqkgk3CjPKR4EYF2F1FZieV6qpbQJarS5eWj31fX52t4IK+JAh7kf2U6enPo1QulwXNyhcffTCzb1sOuk5XnhtHkgn/a4cjG+odnDp1jg4uBZoXdPmo6bLGINyhI0o3SxoIyXEL+FkVCqKLKD82ythcxBymTKCFaQF1u5e5nikIdmd37y6bKtVCslx/sqiqdAZINJc0tFrGUum00Cvlao6G7U0bPo57BTQriNS+ios1FTECUjksNlCQIX0ihmjhGU0J59pGkqnSCZEwbWr5YucZnykoxxagEQORXzb/Ak9K5bFREffFr7apCf5PXl0qlgnKcriGna0JeTelY6Ogd0HoRE7IMjhOKoiArFyCJ4jW/j/hL6H7YQhGoIldG4Wu3GHHXLGgBFeUgfikoysioKh3Xz93QFvFJSZkqByBTRZUX8UFbi1gEMndlPSopSDndF1lJlTrEaDQqoqic3eeiigyiqkyntSIWIenyep0EXQYloZIBjmu4vcqjUeRFlLW7iKmi8pJJQ9CJoph6/I+1onAvNt0ol5niRzpVptNaEStoCKIk5PNCDnX5K3MvJJAQKnoc8yJ+wl+A/eWjplArolDETVSE/KwuVAqScu5RlkrqH5VBvIjfoBNLu43UdeMu//DC+a4oinX5scjAqAziRXysG0ZlkIbS0dCoDNJQOhoalUEaSkdDozJIQ+loaFQGaSgdDY3KIA2lo6FRGaShdDQ0KoM0lI6GRmWQhtLR0KgM0lA6GhqVQRr6OCZeRDXT0KeT8iKqmYY+slNDy59F2vkQYw0tfxZp52PdNbT8mfS0RdENS0I7y59N0XbvxN0WesiXv4ZIqXYetK5SLUTDl7+26KMJXav++FP3+19//vGHriWJqB4t4Muf+w6LzR8YIhowGuXvZE+fgBWaWf5a8IxoiGRZ2KjJtwJ2KMu/Ze/fNx9YWv4asDlDTRbASbIkutzE2nkcnAoNBIhoGICFyOjb9qCbhWJpFzg12toIHBHFITMYh/YNQ45edC1XOhYCp0aeSBZOcqLJSiacDfvC6E7x87UJcKr0jlYAA5nQ5BmaA7AccXrRhZK0AE6dgn0eAHvT+LeDLrxmebM2NgdOlTa3D0P4qrmxLjuIbWUZuj+qNbb0Ar7JddQ/gK7hOorNg1OnpN2G79gK2lm6tf09Xqe1u/Z7NzHPBLz4vvGdRRO6QJIOwKmUKZLFjxnoNVjXszbIL1JU64Sm8BSWVfc6WGYOpt+BUyvlrs0T2fo2noFZ4aP+V+BUyrLoDOHp/HQKNnmd1n1warWcPkBLRgbX3oBBp+QHp1rJoQu06iTN3m248cnBEXBq1bxr07pQlrFzfnP33AXtSqZIDD+nh6kFE/Z10+tC3cdFU/hpozQNNjw7jCyDUy+Hew//weZG3wUYMMovUlRNvmszj//mwj1jgcrt7fzG0DmEBv3N3p3lpg2FUQA+D0dRJWwTgwcwNmDHAjNJgSJIgEBAIYQyqEpoJJKXvrTZQVfQhZekg6rOA05t6k/CG0BC/Of6P3fwIou/1+QbBJmgRUNKsN0cnGMb4t1lGYE1tdwzRIJLaC1NbMmpYgd0AeliUksiEmDxxCG2Z3bYDuRK5ptoSAm4NIfYqkoA9z8yud14e3KHaUYZ29YL2K9PTDt4ikiQyd3UDNtnroL0f+zciIaUgLtsZ+GPqTEKSKgoT9QkPhEyF+i7ZvpK07QbAKaiA/vWAg90SwBKmY0C8Ny4g6k/GCLyteClNt8S0yQRASCyic8IkidwI7vIUQXgsiBPs0xNp9MZnlCZzzuveC+PM7q4Y9/zPNYQ8Y8wWjbgo8wi9xx/yL8hZcUGU5X8c8lhFTDpIs335FKNEpejU1bkFAXAUGJFxoEYu4j4Jp7QsXVTpYwb914FwmhMtTV6Vdho4D1NFfCItIMhvrCmxo28RQ1Aiuc5MU79eAMVvuoqgMY86gZu46eioDMP3NJGxC9piti+LE1YbV1v0Ua+zuU1r5e8dwboIlBXgMIog0dxboxu8aXbm2xuejnM1mh3YhVKinLCjQKAzAWMOvBaAiQHTbKOhQQgw0D8ydhNfqQ2yJdPWJGpdLs5ioDIozKtxCi+eQqY0QakHPCWz/EI5JaaxLe4XJx4fYkShXRWYaXK7iELAJKOQ8mZq33kacMc8BDKGECVAYoAdovcfT3D9q25MaXX6aR4CdjsG3xep7bmGohTRJ46MKcMn/x861rwEqzRPRW9cdsDpmziJe9JSdzpOS70IVuIcwiUOSxR6vf7CgMX0O+Iy+ss/HB8wYWcpGJZCk3AkZp9yknWebAPTJlEnDdAijH4LZNbxPEtZfLlnLJrqM7gFkekXS32epbU68kAbJoxmVlMWQFElo+z7wX0+DzsigdT+EOmbcbFByXAyqHF2IwGD9wzdNg2FCqGwRr8Nv9udGSzxXsuyVlJVfreILMsGzn7CsBMIuNlptGhCeiUK0lrDS+HiA9io3oDPjknVb53iH2yTRUYU5ptxte9YrGYo7Z53sFfd98P0wWlLaepFJll8QiI4ew06SnH1CcJAFn2OFyzDJf7QIKJjirNYDMg0fxuKfR1+ERuk6uMVtTYHAwaaDD1lB5gswNkxi/SgMsZMHRj8JE8Mu7wPWU20SLr7DID5NcnZJNvGixq3IfJ+oyjJmXULUAg2zavgCmjt2k/CXhq80Exx4bJjkjHbQKXvCtQ6ZkSbQCnpBarSwDGCnwkSnN8n83CmjcjShId7UmWtY65kDpdJkUWhCULUKwUVZUOcMSRKSklQKaHyJZp1h58NOH+DQc2J60O5Ak32uk+KZUAjXHXYh2AtIBv4otcBj8gm2ZtIpRqRTm7TDzLmEAsbg5VtZGPH6dVEcjsVXsbA2DvHEW1ig0nsY/INt06Xh5+SlhIULEkbKSZa+oc2FzN+RbwGEOV1ybyPIRf5lH0HAHKTXZNOh7Zd1rxkgDcsEPprMAaYPDwcEWF9RWL8EdSDf4aYeQRZFT1qqpWUJg7tfE+NjpWTU0CXbWBlPcg9+Kg/hx+uA17W2PED49eBD880KKLGYPpmdEFYoqLe7fiJwP477GL4OMnud2+JjDMTum2WhO2W61WEklSkt5/VPjut4rg/4PN/v/asdU+X61OqK5WqzJE3gFLxnBMB//eG863OaRMLhAJqP0TFuVKReRhpXL7EOMBSg0oBOMtz+0VwZ+50ZASZFly74rvdQCHHwUlattSEfzTnb65dwd0yYsRY1dslJkGFKlazdKrVh0OEBBZFv++bOff78VEfiiZotCXign2JszgjA6Q5FNgxAaC4q+L4LPRkBJ8CRXdfu3hFeM8BlyKYoquKFoM0sHpXxXBD2qrEN/y8r+I0TvLaVVOcc+mpCiksnm0ESSlP76hNu9aU0QCT6aGJmkIuGdRBhbchxy4Hd0/LII/VexoSAmDMp+W1qQlPokBJg0A7TZQ5ksEzR8UwRcC3Qga+cyaTTK3rpMcy0PawDOeXGhOUNKbzz2ZqMnfnrcj4SCqHS0DwBxOJtDUV4CsZp8lVDWQF5ad/04R/KCWMhEJB30csl3cXz4uzutWFZFwOBq7CJtfLII/Vewg5U+RH6mGM+c9Vexn+LEjpx4NKaHRvK4glGb6T4rgr0J7O/R/KO85twirHxbBXyaiISU89qw5wuy7RfAz/ToaUsJDZNi/LTP1RRH8pZR/OJW2nyESFvp4B+48/KII3mADR854D5GwOKqHL7X5aRF8jwd7HfYQCY2ptDMHX5lP1SFPyIPraEgJk9CmNu/Yu4OXtqEAjuM/HmE5+HRgYWvHWmUBHcJgc+AYYwelDEEZojjYeOSNHLpDcsg1BHIMubYn8a9dqsjatWpKQ/te/X2wgvcvpPn5mk516N0O12+dkt33X0/Lds/i1Waa7s1d8p8NZ+jSwKMaNM2zVy+was43e/sbJcdpt/mIQjusO0Z+N+0I6afuzK6urq6vtTub1OeJ2WV5uWn4ahPqXCxOrkPQ4u1/ODL8+UN+IBYr8EGL9s0zfbXxxeKxxEXr/DiH2cJALF7Aq3Mt1rc8x9tax2NOel+Mf0qqFsugQXNrtJuNbWw3mu0GHrRnwWojc7EMOe+d59byGndFei27V5uZ3iHyXaJZdpwz3DlzdnCv95vPYb5ULEcKmk9vF//s9nCP/e9HVlx9XLEcLmguxx5GrHnH9602lnx+gyFaqtXEqGYL03Q+mb7aMETLXZxi1OkFJp00vxq/2jBEy02EaOdqwxBt9/il+dCG1YYh2m7iZsXO1YYhWm9svvnVxLjXWwdWrDYM0Xqjg/aes2PpasMQ7ffAv/g6l8Z8OwVDXH3DQw/dte7EoYfPFq02DHElTD0GdmbTasMQV4WD/3x0fsJCDNFyDsb9fmfVasMQV4WDMW8OLH1kL0O0nIMxXViKIdqm4zykA0sxRMs5WA0zhxhLMcigMsRZLtSNKNMBYoZYDUOsJ8QwERK3BkEBqZCkicwQMcSKGGINIfoKUJkr3T50IESAWCMVUClchlgNQ6wjxFhBqkgOhWWWIZIEYR+xj4whVsMQ6whRRyh0DD+KJMosJVT546NfIGCI1TDEOkJMABQKQ4kQefkrhNAqS8C75qoY4vwhBpCQsUQURSiEiJAKhCJVCiFDrIgh1hCiRggZJRKQsi/yOB6+sqwoij5DrIgh1hCij0RCKgUopQYi01r3EeoSB+2qGGINISYKIZIC5asoAhHijmSIy7H2JEMM4CP2BxoS6ubvUow0KDHEahhiHSEOfBd9kQGDGLEIoqEEcVRyGWIlDLGmHVFmWSK1yEPpDuQInyFWwhB5+mYlMUSGaASGyBCNwBAZohEYIkM0AkP8y97dvzQVxlEAP7SDWbve7c67N1eb2mjqHGwp22xtNkntTQmzoIKSoPyh34JCyAiigv7rNktdb1Di7uv5/LJ/4PDsPPc+9/kqiJ6Qe+jPr0cVxGCJJuoJBIKC6GvFNNJpBIGC6GfdBIDEAgJAQfSxHGMAYgxCTVQQ/Sv6Yy1cCEJNVBD9q5jGgUDURAXRt7oJHAhGTdQsPr/KHVbDYNRETSf1qcOCiIDURM1r9qnDghiYmqgJ9r7UTeAnUd/XxFfPzzjv+SvIKRTEATnf18R/bIlqiB7yp/Wv6/ua+NTpNfG5cnhKBTFgNfHVMyd3LF+e6X/5lApi0GoiYDx9d9YZ755qv3xqBTFwNfFk4pknEIf9vvIF6mniiZRYhThrsCAGsiaehE1egDhpsCAGtSb+twWSdYjT8jH8Xc63c1ZO7iHJkLZj8ZD5S+yZhoirJkheNDkCEReNM21VYrsP70LETVeATg4i7qvNQcR9hRcQcV97GSLumx6HiPterkEcF71j3ZyFDNiehzhtzmbP+m0cmplB2K08gjgs2mBnJ02W8YPFDsKuGMKjHm5rsmEAGc7DGJnPZnMX7nI1uwwrW7q2awGI3cpmlxAy1TGIw7IsAtjkCLbZs3ufPes3TPaYcWRJXowiZKZKEIelOGYYhsmbN9m412waN1rMNp9cZ/2GVeAIVtmNWQib1DWIw9o8YEazXERfhTeAFb4AptmcpY0QWrwPcZjJ9Xq9xk2kuIaeOO3DNDY4m2Mot9D5RYizLJoA3nKnv/6hp8k2YNAG7nACWYbwhDZwLQVxVpltAEUuIEkLPVssAhYrwBqLSPEWQqg0BXHWGFMAEryHKnnx4lXMkY1U3GayRo5jg02E0Jg+J3Xa9UwZwHpmEtbidibTBB7VMzksz9RqM5+AdCaOEFooQsR9j1Yg4r7sOkTcdyuDQd30BSC+s2MAqK70TdlPYra21jJk49MYtMw6kGcJgNFircJMmaVtXUsiw7bcxrHZZrNdy23RvtyMA+MsVzk6kp7iZi507+DFYeUCjq3xyAWgxIrZuMsDCqIM11wNx6ytra37bG31GECai2xbl0vMX74CkaHKreJnj/kJ3xUm4qwCj3UliQxfrIIj2VaPzUT/ZxewaTO/sWGzs6GzYjJkzSSOlAqFQoN2oa+MJU6nOVbfJifqWYgM1ZUJDIonmHw5ib4YPy1wJr5GFiAyZKMPMSCaZn6chTiAyRRNchOrZobhO7guTrMe4JixwpaBKjMGMM/C4oSJeeZvsQuR4Zq8hCOjG2wtAbc7XDcwGwcqiVGzsWRxEyLDtWTiUK6TnDLQY3WSefStTlWTZaCdnITIUMUJEfdFFUTxBIbyYLp4DnU9mnjBJW1ExAvsJ9CaKO4aYcloWGMaxycuu0STDzSgVNx23WRPBiLumtB4UvGCeZNsQcRtFZoagibuW2YNIu57Gcrb+GSYjK/7552x/1EfOstfLL15HXHOhzd6HyN/8nUv4qy9jxD51deI85RE+dXSXsR5e/p3ll+8ibjhM0QGGa8jbnits4ziekPs2zcgcmw/4o73OkAmg85H3HFuTg+2xQtBHFFLFE8EUfcziSeCOAoRBVG8RUEUT1AQxRMURPEEBVE8QUEUT1AQxRMURPEEBVE84Rt7d68yJxBGcfzAgYXNWEwfC9uQbjurNFabJnMBlu8NCKLFiqJYrB9rtfeb2X0JJCFFCtlM4PwKYRS7P36g8ChECYJClCAoRAnCX4RYmpyLqfOG5Oy8S/5Q8t3NDHyqq4f8qVGIsneIKUZ2oFlITgYw3ScPHdlYz8BYr+cCL4ZN0zN6hSg7hzjgK9mBX01BssFE9hdWuJEOXRzHS9rFC2KuI5LjhvLWN3AKUfYNsQFG1glKl/cjuaAiTcoPjzNzbKeZF1w440q/6TlhNdmGUSHKriHWBkjwznzginRuH9XdUJFbXtuoyrFyzY/kgI0ntMh7VApRdg2xMQbbtGUYa5LFJwA3h7JNTeGX8Wm2mTV8sgbm9NXOcAv01iz7hnhfrSXpUNIbgSP6Dg+GZImuWNHxobha9GWUXHA8W4Uo+4bIAsmzwImeg1nhmsE7g0XbOns94UPrkUzAAqfY0GQKUXYOcUVOssJCrz2fR9ycd7GWE35SkNGZVeeMLROnEGXfEH9cC43lg+kccuNlSNj4IBegizIfJlkgOk+MgVxfVmT3EB0GehkqkjXSBDW96j23DShri5LkJQHS2cHCKUTZPcQcd3oTsvzCOYoi+1jdFjiyShCN5GxQkrDXihM+OXS9bs2ye4i2pjdba0f+cPOrhpO1S02vtPbI9bk/q50/dlWIor9v5D+kECUIClGCoBAlCApRgqAQJQgKUYKgECUIClGCoBAlCApRgqAQJQgKUYKgECUI/2wWn0KUEKaTDgpRQpjX/KYQJYAJ9veDZvHJL9Kar9d+OWg6qfz7p8ThcNC8ZvnN1vK1Wt/hQRPs5TfR53vB1ynuX3yHHyOI/Co5vA3N8TWa4c1nqCdE+ZPk2+G1PqrD7+3XoQ0AIAwAQUdIwOAR1d1/QBagtupuic/zs2+OPnl1mcKKM3uc8MsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJQeJ1yGhBdRltoAAAAASUVORK5CYII="},459:function(t,s){t.exports="data:image/png;base64,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"},708:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"ddd-领域驱动设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ddd-领域驱动设计"}},[t._v("#")]),t._v(" DDD 领域驱动设计")]),t._v(" "),n("h2",{attrs:{id:"什么是-ddd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是-ddd"}},[t._v("#")]),t._v(" 什么是 DDD")]),t._v(" "),n("p",[t._v("众所周知，领域驱动设计（DDD）的概念出自 Evic Evans 的《领域驱动设计：软件核心复杂性应对之道》。它是指通过统一语言、业务抽象、领域划分和领域建模等一系列手段来控制软件复杂度的方法论。")]),t._v(" "),n("blockquote",[n("p",[t._v("软件开发不是一蹴而就的事情，我们不可能在不了解产品（或行业领域）的前提下进行软件开发，在开发前，通常需要进行大量的业务知识梳理，而后到达软件设计的层面，最后才是开发。"),n("strong",[t._v("而在业务知识梳理的过程中，我们必然会形成某个领域知识，根据领域知识来一步步驱动软件设计，就是领域驱动设计的基本概念")]),t._v("。")])]),t._v(" "),n("p",[t._v("领域驱动设计分为两个阶段：")]),t._v(" "),n("ol",[n("li",[t._v("以一种领域专家、设计人员、开发人员都能理解的通用语言作为相互交流的工具，在交流的过程中发现领域概念，然后将这些概念设计成一个"),n("strong",[t._v("领域模型")]),t._v("；")]),t._v(" "),n("li",[t._v("由领域模型驱动软件设计，用代码来实现该领域模型；")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(457),alt:""}})]),t._v(" "),n("p",[t._v("由此我们发现如何设计出领域模型在 DDD 中是重点，通过领域模型，我们可以:")]),t._v(" "),n("ul",[n("li",[t._v("通过模型反映软件实现（Implementation）的结构；")]),t._v(" "),n("li",[t._v("以模型为基础形成团队的统一语言（Ubiquitous Language）；")]),t._v(" "),n("li",[t._v("把模型作为精粹的知识，以用于传递")])]),t._v(" "),n("p",[t._v("也就是我们常说的"),n("strong",[t._v("领域模型=代码=文档")])]),t._v(" "),n("h2",{attrs:{id:"如何建立领域知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何建立领域知识"}},[t._v("#")]),t._v(" 如何建立领域知识")]),t._v(" "),n("p",[t._v("上面谈到了领域模型，那么到底什么是领域模型呢？下面以日常直播间内挂件开发为例：")]),t._v(" "),n("blockquote",[n("p",[t._v("现要以直播间挂件点击进入活动页面为例。根据 DDD 的思路，我们第一步是建立领域知识：作为平时工作的产品而言，他们自然就是这个领域的专家，我们第一个目标就是与他们沟通，也许我们并不能从中获取所有想要的知识，但至少可以筛选出主要的内容和元素。你可能会听到挂件，活动页，榜单，规则等领域名词；让们从一个简单的例子开始:")])]),t._v(" "),n("ul",[n("li",[t._v("挂件 -> 活动页")])]),t._v(" "),n("p",[t._v("这个模型比较简单，我们无法知道挂件点击是如何进入活动页面的")]),t._v(" "),n("ul",[n("li",[t._v("挂件 -> jsb -> webview -> 活动页")])]),t._v(" "),n("p",[t._v("这个模型就较为丰富，其中涉及到的名字可能包含了产品、客户端、前端同学所了解的;对于不熟悉挂件,webview,活动页的同学则需要事先去了解并统一话题。")]),t._v(" "),n("h2",{attrs:{id:"如何提取领域模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何提取领域模型"}},[t._v("#")]),t._v(" 如何提取领域模型")]),t._v(" "),n("blockquote",[n("p",[t._v("在 DDD 中，Eric Evans 提倡了一种叫做知识消化（Knowledge Crunching）的方法帮助我们去提炼领域模型。")])]),t._v(" "),n("p",[t._v("知识消化法具体来说有五个步骤，分别是：")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("关联模型与软件实现")]),t._v(": 是知识消化可以顺利进行的前提与基础。它将模型与代码统一在一起，使得对模型的修改，就等同于对代码的修改")]),t._v(" "),n("li",[n("strong",[t._v("基于模型提取统一语言")]),t._v(": 领域专家、开发团队、其他人员通过统一语言进行需求讨论，实际就是通过模型对需求进行讨论")]),t._v(" "),n("li",[n("strong",[t._v("开发富含知识的模型；")])]),t._v(" "),n("li",[n("strong",[t._v("精炼模型；")])]),t._v(" "),n("li",[n("strong",[t._v("头脑风暴与试验")])])]),t._v(" "),n("p",[t._v("后面三步呢，构成了一个"),n("strong",[t._v("提炼知识的循环")]),t._v("：通过统一语言讨论需求；发现模型中的缺失或者不恰当的概念，精炼模型以反映业务的实践情况；对模型的修改引发了统一语言的改变，再以试验和头脑风暴的态度，使用新的语言以验证模型的准确。")]),t._v(" "),n("p",[t._v("如此循环往复，不断完善模型与统一语言。因其整体流程与重构（Refactoring）类似，也有人称之为"),n("strong",[t._v("重构循环")]),t._v("。示意图如下:\n"),n("img",{attrs:{src:a(458),alt:""}})]),t._v(" "),n("p",[t._v("通过以上的分析，我们其实可以把“知识消化”这五步总结为"),n("strong",[t._v("两关联一循环")]),t._v("：")]),t._v(" "),n("ul",[n("li",[t._v("“"),n("strong",[t._v("两关联")]),t._v("”即：模型与软件实现关联；统一语言与模型关联；")]),t._v(" "),n("li",[t._v("“"),n("strong",[t._v("一循环")]),t._v("”即：提炼知识的循环。")])]),t._v(" "),n("h3",{attrs:{id:"关联模型与软件实现-贫血模型及充血模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关联模型与软件实现-贫血模型及充血模型"}},[t._v("#")]),t._v(" 关联模型与软件实现-贫血模型及充血模型")]),t._v(" "),n("p",[t._v("Eric Evans 在知识消化中"),n("strong",[t._v("并没有强调模型的好坏，反而非常强调模型与软件实现间的关联")]),t._v(",其本质并非是要求一下子将所有的模型都设计好，当然这也是不现实的，其实更多提倡的是一种迭代的方式。")]),t._v(" "),n("p",[t._v("模型关联的实现方法又称之为"),n("strong",[t._v("充血模型")]),t._v("，其是一种面向对象的变成风格。")]),t._v(" "),n("h4",{attrs:{id:"贫血模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#贫血模型"}},[t._v("#")]),t._v(" "),n("h3",{attrs:{color:"red"}},[t._v(" 贫血模型")])]),t._v(" "),n("p",[t._v("传统的面向过程的设计流程为:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(459),alt:""}})]),t._v(" "),n("p",[t._v("在传统模型中，对象是数据的载体，只有简单的 getter/setter 方法，没有行为。以数据为中心，以数据库 ER 设计作驱动。分层架构在这种开发模式下，可以理解为是对数据移动、处理和实现的过程。业务逻辑都是写在 Service 中的，对象充其量只是个数据载体，没有任何行为，是一种贫血模型。")]),t._v(" "),n("p",[t._v("传统架构的特点：")]),t._v(" "),n("ol",[n("li",[t._v("以数据库为中心")]),t._v(" "),n("li",[t._v("贫血模型: "),n("strong",[t._v("是指仅用作数据载体，而没有行为和动作的领域对象")])]),t._v(" "),n("li",[t._v("业务逻辑散落在大量的方法中")]),t._v(" "),n("li",[t._v("当系统越来越复杂时，开发时间指数增长，维护成本很高")])]),t._v(" "),n("p",[t._v("我们以转账为例介绍一下传统编写方式:(以下代码参考自"),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/390731415",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java 充血模型代码实例"),n("OutboundLink")],1),t._v(")")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 账户对象")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" accountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//账户ID")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 账户余额")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isFrozen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否冻结")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAccountId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" accountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAccountId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" accountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accountId "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" accountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("Services 编写：转账业务服务实现")])]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TransferServiceImpl")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TransferService")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountService")]),t._v(" accountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" fromAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" toAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" fromAccount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" accountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAccountById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" toAccount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" accountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAccountById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 检查转出账户 **/")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFrozen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBizException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorCodeBiz")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ACCOUNT_FROZEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBizException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorCodeBiz")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("INSUFFICIENT_BALANCE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\tfromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 检查转入账户 **/")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFrozen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBizException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorCodeBiz")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ACCOUNT_FROZEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\ttoAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 更新数据库 **/")]),t._v("\n\t\taccountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAccount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\taccountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAccount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TRUE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("这样的实现方式即："),n("strong",[t._v("对象仅仅对简单的数据进行封装，而关联关系和业务计算都散落在对象的范围之外。这种方式实际上是在沿用过程式的风格组织逻辑，而没有发挥面向对象技术的优势")]),t._v("。")]),t._v(" "),n("blockquote",[n("p",[t._v("而现如今我们在开发的时候，反而被因为使用了数据库而束缚了我们的思维，我们在接收到需求的第一时刻，在分析设计阶段，往往是以数据表为核心进行分析设计， 也就是根据需求首先得到数据表名和字段，然后培训程序员学会 SQL 语句如何操作这些数据表，那么程序员为实现数据表的前后顺序操作，必然会将代码写成过程式的风格，"),n("strong",[t._v("以数据表为核心进行分析设计，代码很难避免不演变成过程式的代码，因为我们的重点放在了操作某张表，以及相关的某个字段")]),t._v("。\n  这里就是所谓的贫血模型了")])]),t._v(" "),n("h4",{attrs:{id:"充血模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#充血模型"}},[t._v("#")]),t._v(" "),n("h3",{attrs:{color:"red"}},[t._v(" 充血模型")])]),t._v(" "),n("p",[t._v("与“贫血模型”相对的则是“充血模型”，也就是"),n("strong",[t._v("与某个概念相关的主要行为与逻辑，都被封装到了对应的领域对象中")]),t._v('。“充血模型”也就是 DDD 中强调的“富含知识的模型";')]),t._v(" "),n("p",[t._v("所以根据上面的转账业务，我们可以修改为充血类型的代码:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 账户业务对象")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" accountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 账户ID")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 账户余额")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" isFrozen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否冻结")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DebitPolicy")]),t._v(" debitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 出借策略")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreditPolicy")]),t._v(" creditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 入账策略")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * 出借方法\n\t *\n\t * @param amount 金额\n\t */")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 出借前检查")]),t._v("\n\t\tdebitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("preDebit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-=")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 完成出借")]),t._v("\n\t\tdebitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterDebit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * 转入方法\n\t *\n\t * @param amount 金额\n\t */")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("credit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转入前检查")]),t._v("\n\t\tcreditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("preCredit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 完成转入")]),t._v("\n\t\tcreditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterCredit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\t * BO和DO转换必须加set方法这是一种权衡\n\t */")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DebitPolicy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDebitPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" debitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDebitPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DebitPolicy")]),t._v(" debitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("debitPolicy "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" debitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreditPolicy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCreditPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" creditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreditPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreditPolicy")]),t._v(" creditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("creditPolicy "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" creditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 入账策略实现\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreditPolicyImpl")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreditPolicy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("preCredit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFrozen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBizException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorCodeBiz")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ACCOUNT_FROZEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterCredit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"afterCredit"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 出借策略实现\n *\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DebitPolicyImpl")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DebitPolicy")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("preDebit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFrozen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBizException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorCodeBiz")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ACCOUNT_FROZEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBalance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyBizException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorCodeBiz")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("INSUFFICIENT_BALANCE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterDebit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"afterDebit"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 转账业务服务实现\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TransferServiceImpl")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TransferService")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Resource")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountService")]),t._v(" accountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Resource")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreditPolicy")]),t._v(" creditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Resource")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DebitPolicy")]),t._v(" debitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" fromAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" toAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取账户的信息")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" fromAccount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" accountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAccountById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AccountBO")]),t._v(" toAccount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" accountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAccountById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toAccountId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置出账及入账策略")]),t._v("\n\t\tfromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setDebitPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("debitPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\ttoAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreditPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("creditPolicy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开始出账和入账")]),t._v("\n\t\tfromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\ttoAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("credit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新账户信息")]),t._v("\n\t\taccountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAccount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fromAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\taccountService"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateAccount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toAccount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TRUE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("AccountBO 包含了策略对象，策略对象是可以实现业务逻辑的，这样把业务逻辑实现在策略对象中，减少了 service 层面向过程的代码。")]),t._v(" "),n("h3",{attrs:{id:"基于模型提取统一语言-模型更加语义化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于模型提取统一语言-模型更加语义化"}},[t._v("#")]),t._v(" 基于模型提取统一语言——模型更加语义化")]),t._v(" "),n("p",[t._v("以下部分参考自:"),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/388845844",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用函数式语言建立领域模型"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("领域建模是整个 DDD 环节中最最考验开发人员功底的一环，不同于传统的数据库建模技术，开发人员需要有很好的抽象能力，通过恰如其分的编程技术，将领域知识映射到一个代码模型中。")]),t._v(" "),n("p",[t._v("以前端使用 TypeScript 为例，构造一个模型如何让其更加语义化呢?")]),t._v(" "),n("p",[t._v("一个简单的例子:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timeToFly "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("你能一眼看出这句代码代表的领域知识吗？也许不能，fly 多久？查文档？No，你应该时刻告诉自己，代码等于文档。改进后的代码如下：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("type Second "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("timeToFly")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Second "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("一个信用卡的例子:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("type CreditCard "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cardNo")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("firstName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lastName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contactEmail")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Email\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contactPhone")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Phone\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("从上面的代码能代表领域模型吗？也许不能；如果如果作为开发者，将这个发送给产品让其了解，他们一定有如下的疑惑：")]),t._v(" "),n("ul",[n("li",[t._v("middleName 可以为空吗？")]),t._v(" "),n("li",[t._v("信用卡号 cardNo 长度是多少？可为任意字符串吗？")]),t._v(" "),n("li",[t._v("用户名称允许的长度是多少？")])]),t._v(" "),n("p",[t._v("基于如上的疑问，很明显我们编写的领域模型并不 OK，基于如上的问题我们可以将其修改如下:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 信用卡号")]),t._v("\ntype CardNo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 长度为50的名称")]),t._v("\ntype Name50 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" string\n\ntype CreditCard "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cardNo")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("CardNo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("firstName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name50\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选的名称")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lastName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name50\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contactEmail")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Email\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contactPhone")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Phone\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("现在的代码拥有跟多的领域知识，丰富的类型还充当了单元测试的角色，例如，你永远都不会把一个 email 赋值给 contactPhone，它们不是 string, 它们代表不同的领域知识。")]),t._v(" "),n("p",[t._v("但是这是否意味着上面的领域模型就 OK 了吗？")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("产品问：其他的场景也使用到 了用户名和联系方式的信息，你也需要修改一下哦")])])]),t._v(" "),n("p",[t._v("作为一个负责任的开发同学我们很容易就能把 Name 和 Contact 两个类型分离出来并加以组合，以供后续的场景使用:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("type Name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("firstName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name50\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lastName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name50\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ntype Contact "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contactEmail")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Email\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contactPhone")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Phone\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ntype CreditCard "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cardNo")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("CardNo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contact")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Contact\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[n("strong",[t._v("产品问：邮箱和电话号码都是必填的吗，只需要保留一个就行")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("type OnlyContactEmail "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Email\ntype OnlyContactPhone "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Phone\ntype BothContactEmailAndPhone "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Email "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" Phone\ntype Contact "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" OnlyContactEmail\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" OnlyContactPhone\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" BothContactEmailAndPhone\n\ntype Name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("firstName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name50\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("middleName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lastName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name50\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ntype CreditCard "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cardNo")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("CardNo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Name\n  "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("contact")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Contact\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("基于如上的修改，可以使用此领域模型和领域专家进行沟通，领域模型也较为直观的；\n衡量一个领域模型的好坏取决于")]),t._v(" "),n("ol",[n("li",[n("strong",[t._v("领域模型是否包含了尽可能多的领域知识，能否反映领域专家脑海中的业务模型")])]),t._v(" "),n("li",[n("strong",[t._v("领域模型能否成为文档，进而成为所有人沟通和共享知识的途径")])])]),t._v(" "),n("h2",{attrs:{id:"领域模型的一些要素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#领域模型的一些要素"}},[t._v("#")]),t._v(" 领域模型的一些要素")]),t._v(" "),n("h3",{attrs:{id:"实体-entity"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实体-entity"}},[t._v("#")]),t._v(" 实体（Entity）")]),t._v(" "),n("p",[n("strong",[t._v("在领域模型中，实体应该具有唯一的标识符。")])]),t._v(" "),n("blockquote",[n("p",[t._v("例：最简单的，公安系统的身份信息录入，对于人的模拟，即认为是实体，因为每个人是独一无二的，且其具有唯一标识（如公安系统分发的身份证号码）。")])]),t._v(" "),n("p",[t._v("从设计的一开始就应该考虑实体，决定是否建立一个实体也是十分重要的。另外，"),n("strong",[t._v("不应该给实体定义太多的属性或行为")]),t._v("，而应该寻找关联，发现其他一些实体或值对象，将属性或行为转移到其他关联的实体或值对象上。")]),t._v(" "),n("p",[t._v("比如 Customer 实体，他有一些地址信息，由于地址信息是一个完整的有业务含义的概念，所以，我们可以定义一个 Address 对象，然后把 Customer 的地址相关的信息转移到 Address 对象上。如果没有 Address 对象，而把这些地址信息直接放在 Customer 对象上，并且如果对于一些其他的类似 Address 的信息也都直接放在 Customer 上，会导致 Customer 对象很混乱，结构不清晰，最终导致它难以维护和理解；")]),t._v(" "),n("h3",{attrs:{id:"值对象-value-object"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#值对象-value-object"}},[t._v("#")]),t._v(" 值对象（Value Object）")]),t._v(" "),n("blockquote",[n("p",[n("strong",[t._v("当一个对象用于对事务进行描述而没有唯一标识时，它被称作值对象（Value Object）")]),t._v("。值对象在领域模型中是可以被共享的，他们应该是“不可变的”（只读的），当有其他地方需要用到值对象时，可以将它的副本作为参数传递。当共享值对象时，一般有复制和共享两种做法。")])]),t._v(" "),n("p",[t._v("如果有两个 Customer 的地址信息是一样的，我们就会认为这两个 Customer 的地址是同一个。")]),t._v(" "),n("blockquote",[n("p",[t._v("值对象很重要，在习惯了使用数据库的数据建模后，很容易将所有对象看作实体。使用值对象，可以更好地做系统优化、精简设计。")])]),t._v(" "),n("p",[n("strong",[t._v("它具有不变性、相等性和可替换性。")])]),t._v(" "),n("p",[t._v("在实践中，需要保证值对象创建后就不能被修改，即不允许外部再修改其属性。在不同上下文集成时，会出现模型概念的公用，如商品模型会存在于电商的各个上下文中。在订单上下文中如果你只关注下单时商品信息快照，那么将商品对象视为值对象是很好的选择。")]),t._v(" "),n("h3",{attrs:{id:"领域服务-domain-service"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#领域服务-domain-service"}},[t._v("#")]),t._v(" 领域服务（Domain Service）")]),t._v(" "),n("blockquote",[n("p",[n("strong",[t._v("领域中的一些概念不太适合建模为对象，即归类到实体对象或值对象，因为它们本质上就是一些操作，一些动作，而不是事物。这些操作或动作往往会涉及到多个领域对象，并且需要协调这些领域对象共同完成这个操作或动作.")]),t._v(" 所以我们需要寻找一种新的模式来表示这种跨多个对象的操作，DDD 认为服务是一个很自然的范式用来对应这种跨多个对象的操作，所以就有了领域服务这个模式.")])]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[t._v("服务是无状态的，对象是有状态的")]),t._v("。所谓状态，就是对象的基本属性：高矮胖瘦，年轻漂亮。服务本身也是对象，但它却没有属性（只有行为），因此说是无状态的。")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("服务存在的目的就是为领域提供简单的方法")]),t._v("。为了提供大量便捷的方法，自然要关联许多领域模型，所以说，行为(Action)天生就应该存在于服务中。")])])]),t._v(" "),n("p",[t._v("服务具有以下特点：")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("服务中体现的行为一定是不属于任何实体和值对象的，但它属于领域模型的范围内;")])]),t._v(" "),n("li",[n("strong",[t._v("服务的行为一定涉及其他多个对象;")])]),t._v(" "),n("li",[n("strong",[t._v("服务的操作是无状态的;")])])]),t._v(" "),n("p",[t._v("领域服务存在的意义就是协调领域对象共完成某个操作，所有的状态还是都保存在相应的领域对象中。模型（实体）与服务（场景）是对领域的一种划分，"),n("strong",[t._v("模型关注领域的个体行为，场景关注领域的群体行为，模型关注领域的静态结构，场景关注领域的动态功能")]),t._v("。")]),t._v(" "),n("h3",{attrs:{id:"聚合及聚合根-aggregate-aggregate-root"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#聚合及聚合根-aggregate-aggregate-root"}},[t._v("#")]),t._v(" 聚合及聚合根（Aggregate，Aggregate Root）")]),t._v(" "),n("blockquote",[n("p",[n("strong",[t._v("Aggregate(聚合）是一组相关对象的集合，作为一个整体被外界访问，聚合根（Aggregate Root）是这个聚合的根节点。")])])]),t._v(" "),n("p",[t._v("举个例子:人包括:手，眼睛、鼻子，嘴巴等；这一个组合就是一个聚合，而人就是这个组合的聚合根。")]),t._v(" "),n("p",[t._v("聚合有以下一些特点:")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("每个聚合有一个根和一个边界，边界定义了一个聚合内部有哪些实体或值对象，聚合根是聚合内的某个实体；")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("在聚合中，根是唯一允许外部对象保持对它的引用的元素")]),t._v("，而边界内部的对象之间则可以互相引用。除根以外的其他 Entity 都有本地表示，但这些标识只有在聚合内部才需要加以区别，因为外部对象除了根 Entity 之外看不到其他对象；")])]),t._v(" "),n("li",[n("p",[t._v("聚合内除根以外的其他实体的唯一标识都是本地标识，也就是只要在聚合内部保持唯一即可，因为它们总是从属于这个聚合的；")])]),t._v(" "),n("li",[n("p",[t._v("聚合根负责与外部其他对象打交道并维护自己内部的业务规则；")])]),t._v(" "),n("li",[n("p",[t._v("聚合内部的对象可以保持对其他聚合根的引用；")])]),t._v(" "),n("li",[n("p",[t._v("删除一个聚合根时必须同时删除该聚合内的所有相关对象，因为他们都同属于一个聚合，是一个完整的概念；")])])]),t._v(" "),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.jianshu.com/p/b6ec06d6b594",target:"_blank",rel:"noopener noreferrer"}},[t._v("浅析 DDD(领域驱动设计)"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_38004638/article/details/112601025",target:"_blank",rel:"noopener noreferrer"}},[t._v("DDD 领域驱动开发概念介绍及简单示例"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/383427771",target:"_blank",rel:"noopener noreferrer"}},[t._v("领域驱动设计到底在讲什么？"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/388845844",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用函数式语言建立领域模型"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://tech.meituan.com/2017/12/22/ddd-in-practice.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("领域驱动设计在互联网业务开发中的实践"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);