(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{882:function(a,s,t){"use strict";t.r(s);var e=t(18),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"docker-缓存-node-modules的方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-缓存-node-modules的方案"}},[a._v("#")]),a._v(" docker 缓存 node_modules的方案")]),a._v(" "),t("h3",{attrs:{id:"方案1-复制package-json的方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案1-复制package-json的方式"}},[a._v("#")]),a._v(" 方案1. 复制package.json的方式")]),a._v(" "),t("p",[a._v("整体思路:")]),a._v(" "),t("ul",[t("li",[a._v("将项目的package.json复制到docker的安装目录下")]),a._v(" "),t("li",[a._v("切换到安装目录，执行npm install")]),a._v(" "),t("li",[a._v("复制目录下的node_modules 到应用的目录下")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("COPY app/package.json /opt/app/package.json\nRUN "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /opt/app "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\nCOPY app /opt/app\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);